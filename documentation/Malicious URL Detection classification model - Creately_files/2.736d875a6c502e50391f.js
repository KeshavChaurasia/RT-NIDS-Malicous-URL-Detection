(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/xGf":function(t,e,n){t.exports=n("4e1j")},"0N1A":function(t,e){var n,i,r,a,o,s,c,u,p,d,l,h,f,g,m,y=!1;function b(){if(!y){y=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),b=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(h=/\b(iPhone|iP[ao]d)/.exec(t),f=/\b(iP[ao]d)/.exec(t),d=/Android/i.exec(t),g=/FBAN\/\w+;/i.exec(t),m=/Mobile/i.exec(t),l=!!/Win64/.exec(t),e){(n=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var v=/(?:Trident\/(\d+.\d+))/.exec(t);s=v?parseFloat(v[1])+4:n,i=e[2]?parseFloat(e[2]):NaN,r=e[3]?parseFloat(e[3]):NaN,(a=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=e&&e[1]?parseFloat(e[1]):NaN):o=NaN}else n=i=r=o=a=NaN;if(b){if(b[1]){var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);c=!x||parseFloat(x[1].replace("_","."))}else c=!1;u=!!b[2],p=!!b[3]}else c=u=p=!1}}var v={ie:function(){return b()||n},ieCompatibilityMode:function(){return b()||s>n},ie64:function(){return v.ie()&&l},firefox:function(){return b()||i},opera:function(){return b()||r},webkit:function(){return b()||a},safari:function(){return v.webkit()},chrome:function(){return b()||o},windows:function(){return b()||u},osx:function(){return b()||c},linux:function(){return b()||p},iphone:function(){return b()||h},mobile:function(){return b()||h||f||d||m},nativeApp:function(){return b()||g},android:function(){return b()||d},ipad:function(){return b()||f}};t.exports=v},"0itG":function(t,e,n){"use strict";var i=n("D57K"),r=n("5xGT"),a=(n("hX56"),n("4y1S")),o=n("nsO7"),s=n("LiEJ"),c=n("gQst"),u=n("pN2L"),p=n("3riI"),d=n("z5yO"),l=n("AouM"),h=n("Jg5f"),f=n("lqvn"),g=n("D3kC"),m=n("c7W3"),y=(n("QoSw"),n("SBw3"),n("2m+3"),n("AaYA")),b=n("yhNa"),v=n("LC7v"),x=n("QCJn"),O=n("TQyE"),S=n("IGWl"),j=n("g3Dv"),C=n("fQLH"),P=n("cQOC"),T=n("NNJu"),w=n("U3QC"),D=n("12aA"),I=n("G2Mx"),F=n("myrl"),E=function(t){function e(e,n,i,r){var a=t.call(this,e,r)||this;return a.componentFactoryResolver=e,a.featureList=n,a.commandService=i,a.injector=r,a.items={},a.changeSubs={},a._change=new C.a,a.change.subscribe(function(t){return a.handleFeatureChange(t)}),a.resetOperations(),a}return i.d(e,t),Object.defineProperty(e.prototype,"change",{get:function(){return this._change.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIds",{get:function(){return Object.keys(this.items)},enumerable:!0,configurable:!0}),e.prototype.addItem=function(t,e,n,i,r){var a=this.makeComponent(n);a.instance.id=t,a.instance.setData(i),a.instance.setProperties(r),a.instance.apply(),this.operations.add.push({item:a,container:e})},e.prototype.removeItem=function(t){this.items[t]&&this.items[t].item&&this.operations.remove.push(t)},e.prototype.updateItem=function(t,e,n){if(this.items[t]&&this.items[t].item){var i=this.items[t].item;i.instance.setData(e),i.instance.setProperties(n),this.operations.update.push(t)}},e.prototype.apply=function(t){var e=this,n=this.getPendingOperations(t);return n.length>0?P.a.apply(void 0,i.j(n)).pipe(Object(w.a)({complete:function(){e.resetOperations()}})):(this.resetOperations(),Object(u.a)({}))},e.prototype.getPendingOperations=function(t){var e=this,n=[];return this.operations.remove.length>0&&(n=n.concat(this.operations.remove.map(function(n){return e.removeFeatureItem(n,t)}))),this.operations.add.length>0&&(n=n.concat(this.operations.add.map(function(n){return e.insertFeatureItem(n.item,n.container,t)}))),this.operations.update.length>0&&(n=n.concat(this.operations.update.map(function(n){return e.updateFeatureItem(n,t)}))),n},e.prototype.insertFeatureItem=function(t,e,n){if(!this.items[t.instance.id]){if(this.items[t.instance.id]={item:t,container:e},this.subscribeToItemChange(t.instance),n){var i=this.getAddItemAnimation(t);return this.insert(e,t),t.changeDetectorRef.detectChanges(),i.start()}this.insert(e,t),t.changeDetectorRef.detectChanges()}return Object(u.a)({})},e.prototype.getItem=function(t){if(this.items&&this.items[t]){var e=this.items[t].item;if(e)return e.instance}},e.prototype.removeFeatureItem=function(t,e){var n=this;if(!this.items[t])return Object(u.a)({});var i=this.items[t].item,r=this.items[t].container;if(i){if(this.unsubscribeFromItemChange(t),e)return this.getRemoveItemAnimation(i).start().pipe(Object(w.a)({complete:function(){n.remove(r,i),delete n.items[t]}}));this.remove(r,i),delete this.items[t]}return Object(u.a)({})},e.prototype.updateFeatureItem=function(t,e){if(this.items[t]&&this.items[t].item){var n=this.items[t].item;if(e)return n.instance.applyAnimated();n.instance.apply()}return Object(u.a)({})},e.prototype.resetOperations=function(){this.operations={add:[],remove:[],update:[]}},e.prototype.subscribeToItemChange=function(t){var e=this,n=t.change.subscribe(function(n){return e._change.next({id:t.id,data:n})});this.changeSubs[t.id]=n},e.prototype.unsubscribeFromItemChange=function(t){this.changeSubs[t]&&(this.changeSubs[t].unsubscribe(),delete this.changeSubs[t])},e.prototype.getAddItemAnimation=function(t){var e=new T.a({});return e.element=t.location.nativeElement,e},e.prototype.getRemoveItemAnimation=function(t){var e=new T.a({});return e.element=t.location.nativeElement,e},e.prototype.ngOnDestroy=function(){var t=this;Object.keys(this.changeSubs).forEach(function(e){t.changeSubs[e].unsubscribe()}),this._change.complete(),this.changeSubs=null,this.items=null,this.operations=null},e.prototype.renderFeatureChanges=function(t,e){var n=this;return this.features.pipe(Object(h.a)(function(e){return e.filter(function(e){return t.includes(e.featureId)})}),Object(l.a)(function(i){return n.manage(t,i,e).pipe(Object(D.a)(i))}),Object(l.a)(function(t){return n.apply(!0).pipe(Object(D.a)(t))}))},e.prototype.manage=function(t,e,n){return Object(P.a)(this.removeComponents(t,e),this.updateComponents(e),this.addComponents(e,n)).pipe(Object(I.a)(1))},e.prototype.removeComponents=function(t,e){var n=this;return t.filter(function(t){return-1===e.map(function(t){return t.featureId}).indexOf(t)}).forEach(function(t){return n.removeItem(t)}),Object(u.a)({})},e.prototype.addComponents=function(t,e){var n=this,r=[];return t.forEach(function(t,i){-1===n.itemIds.indexOf(t.featureId)&&r.push(n.addComponent(t,e))}),Object(o.isEmpty)(r)?Object(u.a)({}):c.a.apply(void 0,i.j(r))},e.prototype.updateComponents=function(t){var e=this,n=[];return t.forEach(function(t,i){e.itemIds.includes(t.featureId)&&n.push(e.updateComponent(t))}),Object(o.isEmpty)(n)?Object(u.a)({}):c.a.apply(void 0,i.j(n))},e.prototype.updateComponent=function(t){var e=this,n=this.featureList.getFeature(t.featureId),i=this.getUIControlProperties(n);return this.getItemData(n,t.data).pipe(Object(h.a)(function(n){return e.updateItem(t.featureId,n,i)}))},e.prototype.addComponent=function(t,e){var n=this,i=this.featureList.getFeature(t.featureId),r=this.getUIControlType(i.dataType),a=this.getUIControlProperties(i);return this.getItemData(i,t.data).pipe(Object(h.a)(function(i){return n.addItem(t.featureId,e,r,i,a)}))},e.prototype.getUIControlProperties=function(t){return{id:t.id,icon:t.icon,label:t.label,labelPosition:t.labelPosition,dropdownDirection:t.dropdownDirection,tooltip:t.tooltip}},e.prototype.getUIControlType=function(t){if(!t||t===j.c.BINARY)return S.a;if(t===j.c.TEXT_POSITION)return y.a;if(t===j.c.OPTION_LIST_COMBO)return x.a;if(t===j.c.COLOR)return O.a;if(t===j.c.NUMBER)return b.a;if(t===j.c.OPTION_LIST)return v.a;if(t===j.c.CUSTOM_SHAPE_STYLE)return F.a;throw new Error("UI control is not available for "+t)},e.prototype.getItemData=function(t,e){if(t.transformer)return this.injector.get(t.transformer).getFeatureData(t.id,e);if(t.dataType===j.c.OPTION_IMAGES)throw new Error("Features with list type data items must have a transformer defined.");return e?Object(u.a)(r.j.mergeInstances({},t.data,e)):Object(u.a)(t.data)},e.prototype.handleFeatureChange=function(t){var e=this,n=this.featureList.getFeature(t.id);if(n.transformer){this.injector.get(n.transformer).getApplyData(n.id,t.data).subscribe(function(t){e.commandService.dispatch(n.commandEvent,t)})}else{var i=r.j.mergeInstances({},this.getCommandData(t.id),t.data);this.commandService.dispatch(n.commandEvent,i)}},e.prototype.getCommandData=function(t){var e={},n=this.getItem(t);return n&&n.data&&(n.data.dataItemId&&(e.dataItems=[{id:n.data.dataItemId,value:n.data.value}]),n.data.alterFunction&&(e.alterFunction=n.data.alterFunction)),e},e}(T.d);n.d(e,"a",function(){return A});var A=function(t){function e(e,n,i,r,a,o,c,u,p){var d=t.call(this,a,c,r,o)||this;return d.state=e,d.ll=n,d.gridService=i,d.commandService=r,d.componentFactoryResolver=a,d.injector=o,d.featureList=c,d.dataStore=u,d.translator=p,d.selectionXFeature=["selectionPositionX"],d.selectionYFeature=["selectionPositionY"],d.selectionWidthFeature=["selectionWidth"],d.selectionHeightFeature=["selectionHeight"],d.connectorStartXFeature=["connectorStartX"],d.connectorStartYFeature=["connectorStartY"],d.connectorEndXFeature=["connectorEndX"],d.connectorEndYFeature=["connectorEndY"],d.selectionAngleFeature=["selectionAngle"],d.textFeaturesBISU=["boldModelText","italicModelText","underlineModelText","strikeoutModelText"],d.textFeaturesAlign=["leftAlignModelText","centerAlignModelText","rightAlignModelText"],d.textFeatureFont=["fontModelText"],d.textFeatureSize=["sizeModelText"],d.textFeatureColor=["colorModelText"],d.textFeatureTextPosition=["textPosition"],d.styleFeatureColor=["colorFill","colorLine","customShapeStyles"],d.styleFeatureLineStyle=["styleLine"],d.styleFeatureLineThickness=["lineThickness"],d.features=new s.a([]),d.subs=[],d._panelName=d.panelName(),d._selection=d.state.changes("Selected"),d}return i.d(e,t),Object.defineProperty(e,"openForContextAware",{get:function(){return"onlyAll"},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this.subs.push(Object(c.a)(this.renderFeatureChanges(this.textFeaturesBISU,this.textSectionBISU),this.renderFeatureChanges(this.textFeaturesAlign,this.textSectionAlign),this.renderFeatureChanges(this.textFeatureSize,this.textSectionSize),this.renderFeatureChanges(this.textFeatureFont,this.textSectionFont),this.renderFeatureChanges(this.textFeatureColor,this.textSectionColor),this.renderFeatureChanges(this.textFeatureTextPosition,this.textSectionTextPosition)).subscribe(function(){return t.manageSectionVisiblity(t.textSection,[{group:t.textSectionPanelItemBISUAlign,items:[t.textSectionBISU,t.textSectionAlign]},{group:t.textSectionPanelItemFontSize,items:[t.textSectionSize,t.textSectionFont]},{group:t.textSectionPanelItemColor,items:[t.textSectionColor]},{group:t.textSectionPanelTextPosition,items:[t.textSectionTextPosition]}])}),Object(c.a)(this.renderFeatureChanges(this.styleFeatureColor,this.styleSectionColors),this.renderFeatureChanges(this.styleFeatureLineStyle,this.styleSectionLineStyle),this.renderFeatureChanges(this.styleFeatureLineThickness,this.styleSectionLineThickness)).subscribe(function(){return t.manageSectionVisiblity(t.styleSection,[{group:t.styleSectionPanelItemColors,items:[t.styleSectionColors]},{group:t.styleSectionPanelItemStyleThickness,items:[t.styleSectionLineStyle,t.styleSectionLineThickness]}])}),Object(c.a)(this.renderFeatureChanges(this.selectionXFeature,this.selectionX),this.renderFeatureChanges(this.selectionYFeature,this.selectionY),this.renderFeatureChanges(this.selectionWidthFeature,this.selectionWidth),this.renderFeatureChanges(this.selectionHeightFeature,this.selectionHeight),this.renderFeatureChanges(this.selectionAngleFeature,this.selectionAngle),this.renderFeatureChanges(this.connectorStartXFeature,this.connectorStartX),this.renderFeatureChanges(this.connectorStartYFeature,this.connectorStartY),this.renderFeatureChanges(this.connectorEndXFeature,this.connectorEndX),this.renderFeatureChanges(this.connectorEndYFeature,this.connectorEndY)).subscribe(function(){t.manageSectionVisiblity(t.sizeAndPosSection,[{group:t.sizeAndPosPanelItemXY,items:[t.selectionX,t.selectionY]},{group:t.sizeAndPosPanelItemWH,items:[t.selectionWidth,t.selectionHeight]},{group:t.sizeAndPosPanelItemA,items:[t.selectionAngle]},{group:t.sizeAndPosPanelItemConStartXY,items:[t.connectorStartX,t.connectorStartY]},{group:t.sizeAndPosPanelItemConEndXY,items:[t.connectorEndX,t.connectorEndY]}])}),this.features.subscribe(function(e){t.setDiagramFeaturesVisibility(Object(o.isEmpty)(e))}))},e.prototype.panelName=function(){var t=this;return this.state.changes("Selected").pipe(Object(d.a)(function(t){return!Object(o.isEmpty)(t)}),Object(l.a)(function(e){return t.getChangesForPanelName(e).pipe(Object(h.a)(function(t){var n,i=[],r=[],a=[],o="";return e.forEach(function(e){var n=t.getShape(e);n.isConnector()?n.isLine()?r.push(n):i.push(n):a.push(n)}),r.length>0&&0===a.length&&0===i.length?n=1===r.length?"Line":r.length+" Lines Selected":i.length>0&&0===a.length&&0===r.length?1===i.length?(n="Connector",o=i[0].name):(n=i.length+" Connectors Selected",o=""):n=a.length>0&&0===i.length&&0===r.length?1===a.length?a[0].name:a.length+" Shapes Selected":i.length+a.length+r.length+" Shapes Selected",{mainText:n,subText:o}}))}))},e.prototype.getChangesForPanelName=function(t){var e=this.ll.forCurrent(!1);return e.getDiagramOnce().pipe(Object(l.a)(function(n){return 1!==t.length?Object(u.a)(n):Object(c.a)(Object(u.a)(n),e.getDiagramChanges().pipe(Object(h.a)(function(t){return t.model}),Object(d.a)(function(e){var n=e.shapes[t[0]];return n&&n.isConnector()})))}))},e.prototype.ngOnDestroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe()},e.prototype.manageSectionVisiblity=function(t,e){var n=t.nativeElement;n.style.display="none",e.forEach(function(t){var e=t.group.nativeElement;t.items.every(function(t){return 0===t.length})?e.style.display="none":(e.style.display="",n.style.display="")})},e.prototype.setDiagramFeaturesVisibility=function(t){var e=this.gridSection.nativeElement,n=this.diagramInfoSection.nativeElement;t?(e.style.display="",n.style.display=""):(e.style.display="none",n.style.display="none")},Object.defineProperty(e.prototype,"id",{get:function(){return"diagraminfo"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return"properties"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this.translator.instant("TOOLTIPS.DIAGRAM_INFO")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.diagram||(this.diagram=this.getDiagramObservable())},e.prototype.getDiagramObservable=function(){var t=this;return this.ll.forCurrent(!1).getDiagramModel().pipe(Object(l.a)(function(e){var n=t.dataStore.findOne(a.e,{id:e.updatedBy}).pipe(Object(h.a)(function(t){return t&&t.firstName?t:{firstName:"Someone"}}));return Object(p.b)(Object(u.a)(e),n)}),Object(h.a)(function(e){var n=i.h(e,2),r=n[0],a=n[1],o=r.getBounds();return{description:r.description,tagsArray:r.tagsArray,width:Math.round(o.width),height:Math.round(o.height),typeName:r.typeName?r.typeName:"Block Diagram",updatedBy:a.firstName,updatedDate:t.translator.instant("LABELS.UPDATED_THIS")+" "+r.lastUpdatedMoment()}}),Object(f.a)(function(t,e){return Object(o.isEqual)(t,e)}),Object(g.a)())},e.prototype.onActive=function(){this.diagram||(this.diagram=this.getDiagramObservable()),this.diagramSub=this.diagram.connect(),r.bb.track("right.info.panel.click",{value1Type:"status",value1:"open"})},e.prototype.onInactive=function(){r.bb.track("right.info.panel.click",{value1Type:"status",value1:"close"}),this.diagramSub.unsubscribe()},e.prototype.updateDescription=function(t){r.bb.track("right.info.description.change"),this.commandService.dispatch(m.a.updateDiagramInfo,{description:t})},e.prototype.updateTags=function(t){r.bb.track("right.info.tags.update",{value1Type:"tags",value1:t}),this.commandService.dispatch(m.a.updateDiagramInfo,{tags:t})},Object.defineProperty(e.prototype,"uiState",{get:function(){return this.state.changes("InterfaceControlState")},enumerable:!0,configurable:!0}),e.prototype.showGrid=function(t){var e=t?"true":"false";r.bb.track("right.info.grid."+e),this.gridService.showGrid.value!==t&&this.gridService.showGrid.next(t)},e.prototype.snapToGrid=function(t){var e=t?"true":"false";r.bb.track("right.info.snap."+e),this.gridService.enableSnapToGrid.value!==t&&this.gridService.enableSnapToGrid.next(t)},e}(E)},"2m+3":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D57K"),r=n("LiEJ"),a=n("ADlH"),o=function(){function t(){this.enableSnapToGrid=new r.a(!0),this.showGrid=new r.a(!0),this.gridSizeMajor=5*t.gridSize}return t.prototype.isOnGrid=function(e){return e%t.gridSize==0},t.prototype.isOnGridMajor=function(t){return t%this.gridSizeMajor==0},t.prototype.snapToGrid=function(e){return Object(a.roundN)(e,t.gridSize)},t.prototype.snapToGridNext=function(e){return Object(a.ceilN)(e,t.gridSize)},t.prototype.snapToGridPrevious=function(e){return Object(a.floorN)(e,t.gridSize)},t.prototype.getGridLines=function(e,n){var r,a;return i.e(this,function(i){switch(i.label){case 0:if(e===n)throw Error("Start and end of the grid line location cant be same");r=e<n?t.gridSize:-t.gridSize,a=e,this.isOnGrid(e)||(a=r>0?this.snapToGridNext(e):this.snapToGridPrevious(e)),i.label=1;case 1:return r>0&&a<n||r<0&&a>n?[4,a]:[3,3];case 2:return i.sent(),a+=r,[3,1];case 3:return[2]}})},t.prototype.point=function(t){return this.enableSnapToGrid.value&&(t.x=this.adjustToGrid(t.x),t.y=this.adjustToGrid(t.y)),t},t.prototype.shapeTransform=function(t,e){return e},t.prototype.connectorPoints=function(t,e){return e},t.prototype.adjustToGrid=function(e){return e.value=Math.round(e.value),this.isOnGrid(e.value)?(this.adjustToGridProperty("low",e),this.adjustToGridProperty("high",e),e):0===e.low?(e.value=this.snapToGridNext(e.value),this.adjustToGridProperty("high",e)):0===e.high?(e.value=this.snapToGridPrevious(e.value),this.adjustToGridProperty("low",e)):(e.low<=t.gridSize&&e.high<=t.gridSize?e.value=this.snapToGrid(e.value):e.low>t.gridSize&&e.high>t.gridSize?e.low<e.high?e.value=this.snapToGridPrevious(e.value-e.low):e.value=this.snapToGridNext(e.value+e.high):e.low>t.gridSize?e.value=this.snapToGridNext(e.value):e.high>t.gridSize&&(e.value=this.snapToGridPrevious(e.value)),this.adjustToGridProperty("low",e),this.adjustToGridProperty("high",e),e)},t.prototype.adjustToGridProperty=function(e,n){return 0===n[e]?n:(n[e]<=t.gridSize?n[e]=t.gridSize:n[e]=this.snapToGridNext(n[e]),n)},t.gridSize=10,t}()},"4e1j":function(t,e,n){"use strict";var i=n("0N1A"),r=n("4kdB"),a=10,o=40,s=800;function c(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*a,r=n*a,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(1==t.deltaMode?(i*=o,r*=o):(i*=s,r*=s)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}c.getEventType=function(){return i.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},t.exports=c},"4kdB":function(t,e,n){"use strict";var i,r=n("c3EF");r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"==typeof o[n]}return!a&&i&&"wheel"===t&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},AaYA:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fQLH"),r=n("LiEJ"),a=n("d9YI"),o=function(){function t(){this._change=new i.a,this.selectedElement=new r.a("none")}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._change},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this.selectedElement.next(this.getTextPositionString(t)),this._data=t},t.prototype.setProperties=function(t){},t.prototype.apply=function(){},t.prototype.applyAnimated=function(){return Object(a.b)()},t.prototype.handleClick=function(t){this._change.next(this.getDataPositionData(t))},t.prototype.getTextPositionString=function(t){var e=t.xType,n=t.yType,i=t.x,r=t.y,a=t.alignX,o=t.alignY;return"fixed-start"===e&&i>=0&&"fixed-start"===n&&r<=0&&-1===a&&1===o?"ex-top-left":"relative"===e&&.5===i&&"fixed-start"===n&&r<=0&&0===a&&1===o?"ex-top-center":"fixed-end"===e&&i>=0&&"fixed-start"===n&&r<=0&&1===a&&1===o?"ex-top-right":"fixed-start"===e&&i>=0&&"fixed-start"===n&&r>=0&&-1===a&&-1===o?"in-top-left":"relative"===e&&.5===i&&"fixed-start"===n&&r>=0&&0===a&&-1===o?"in-top-center":"fixed-end"===e&&i>=0&&"fixed-start"===n&&r>=0&&1===a&&-1===o?"in-top-right":"fixed-start"===e&&i>=0&&"relative"===n&&.5===r&&-1===a&&0===o?"in-center-left":"relative"===e&&.5===i&&"relative"===n&&.5===r&&0===a&&0===o?"in-center-center":"fixed-end"===e&&i>=0&&"relative"===n&&.5===r&&1===a&&0===o?"in-center-right":"fixed-start"===e&&i>=0&&"fixed-end"===n&&r>=0&&-1===a&&1===o?"in-bottom-left":"relative"===e&&.5===i&&"fixed-end"===n&&r>=0&&0===a&&1===o?"in-bottom-center":"fixed-end"===e&&i>=0&&"fixed-end"===n&&r>=0&&1===a&&1===o?"in-bottom-right":"fixed-start"===e&&i>=0&&"fixed-end"===n&&r<=0&&-1===a&&-1===o?"ex-bottom-left":"relative"===e&&.5===i&&"fixed-end"===n&&r<=0&&0===a&&-1===o?"ex-bottom-center":"fixed-end"===e&&i>=0&&"fixed-end"===n&&r<=0&&1===a&&-1===o?"ex-bottom-right":"fixed-start"===e&&i<=0&&"fixed-start"===n&&r>=0&&1===a&&-1===o?"ex-left-top":"fixed-end"===e&&i<=0&&"fixed-start"===n&&r>=0&&-1===a&&-1===o?"ex-right-top":"fixed-start"===e&&i<=0&&"relative"===n&&.5===r&&1===a&&0===o?"ex-left-center":"fixed-end"===e&&i<=0&&"relative"===n&&.5===r&&-1===a&&0===o?"ex-right-center":"fixed-start"===e&&i<=0&&"fixed-end"===n&&r>=0&&1===a&&1===o?"ex-left-bottom":"fixed-end"===e&&i<=0&&"fixed-end"===n&&r>=0&&-1===a&&1===o?"ex-right-bottom":"none"},t.prototype.getDataPositionData=function(t){return"ex-top-left"===t?{xType:"fixed-start",x:0,yType:"fixed-start",y:-1,alignX:-1,alignY:1,wordWrap:!1}:"ex-top-center"===t?{xType:"relative",x:.5,yType:"fixed-start",y:-1,alignX:0,alignY:1,wordWrap:!1}:"ex-top-right"===t?{xType:"fixed-end",x:0,yType:"fixed-start",y:-1,alignX:1,alignY:1,wordWrap:!1}:"in-top-left"===t?{xType:"fixed-start",x:1,yType:"fixed-start",y:1,alignX:-1,alignY:-1,wordWrap:!0}:"in-top-center"===t?{xType:"relative",x:.5,yType:"fixed-start",y:1,alignX:0,alignY:-1,wordWrap:!0}:"in-top-right"===t?{xType:"fixed-end",x:1,yType:"fixed-start",y:1,alignX:1,alignY:-1,wordWrap:!0}:"in-center-left"===t?{xType:"fixed-start",x:1,yType:"relative",y:.5,alignX:-1,alignY:0,wordWrap:!0}:"in-center-center"===t?{xType:"relative",x:.5,yType:"relative",y:.5,alignX:0,alignY:0,wordWrap:!0}:"in-center-right"===t?{xType:"fixed-end",x:1,yType:"relative",y:.5,alignX:1,alignY:0,wordWrap:!0}:"in-bottom-left"===t?{xType:"fixed-start",x:1,yType:"fixed-end",y:1,alignX:-1,alignY:1,wordWrap:!0}:"in-bottom-center"===t?{xType:"relative",x:.5,yType:"fixed-end",y:1,alignX:0,alignY:1,wordWrap:!0}:"in-bottom-right"===t?{xType:"fixed-end",x:1,yType:"fixed-end",y:1,alignX:1,alignY:1,wordWrap:!0}:"ex-bottom-left"===t?{xType:"fixed-start",x:0,yType:"fixed-end",y:-1,alignX:-1,alignY:-1,wordWrap:!1}:"ex-bottom-center"===t?{xType:"relative",x:.5,yType:"fixed-end",y:-1,alignX:0,alignY:-1,wordWrap:!1}:"ex-bottom-right"===t?{xType:"fixed-end",x:0,yType:"fixed-end",y:-1,alignX:1,alignY:-1,wordWrap:!1}:"ex-left-top"===t?{xType:"fixed-start",x:-1,yType:"fixed-start",y:0,alignX:1,alignY:-1,wordWrap:!1}:"ex-right-top"===t?{xType:"fixed-end",x:-1,yType:"fixed-start",y:0,alignX:-1,alignY:-1,wordWrap:!1}:"ex-left-center"===t?{xType:"fixed-start",x:-1,yType:"relative",y:.5,alignX:1,alignY:0,wordWrap:!1}:"ex-right-center"===t?{xType:"fixed-end",x:-1,yType:"relative",y:.5,alignX:-1,alignY:0,wordWrap:!1}:"ex-left-bottom"===t?{xType:"fixed-start",x:-1,yType:"fixed-end",y:0,alignX:1,alignY:1,wordWrap:!1}:"ex-right-bottom"===t?{xType:"fixed-end",x:-1,yType:"fixed-end",y:0,alignX:-1,alignY:1,wordWrap:!1}:void 0},t}()},IGWl:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fQLH"),r=n("LiEJ"),a=n("d9YI"),o=function(){function t(){this._change=new i.a,this.iconSource=new r.a("")}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._change.asObservable()},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._data=t},t.prototype.setProperties=function(t){this._props=t},t.prototype.apply=function(){this._props.icon&&this.iconSource.next("./assets/icons/symbol-defs.svg#"+this._props.icon),this._data&&this.button&&(this._data.value?this.button.nativeElement.classList.add("active"):this.button.nativeElement.classList.remove("active"))},t.prototype.applyAnimated=function(){return this.apply(),Object(a.b)()},t}()},LC7v:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("D57K"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e}(n("hSRu").a)},LLEj:function(t,e,n){"use strict";var i=n("D57K"),r=(n("Wpmq"),n("U3QC")),a=n("4HYP"),o=n("mhnT"),s=n("z5yO"),c=n("Jg5f"),u=n("AouM"),p=function(t){function e(e,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var a=t.call(this,e,n,i,r)||this;return a.offsetX=n.nativeEvent.offsetX,a.offsetY=n.nativeEvent.offsetY,a.clientX=n.nativeEvent.clientX,a.clientY=n.nativeEvent.clientY,a}return i.d(e,t),e}(n("MvFr").a),d=function(t){function e(e,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var a=t.call(this,e,n,i,r)||this;return a.setRelatedShape(n),a}return i.d(e,t),e}(p),l=n("ljsB"),h=n("5xGT"),f=n("gQst"),g=n("iUUs"),m=n("d62g"),y=n("5p5l"),b=n("pN2L"),v=n("/xGf");n.d(e,"a",function(){return x});var x=function(){function t(t,e){this.commandService=t,this.vToDcoordinate=e,this.zoomSensitivity=1/800,this.panSensitivity=.25,this.subs=[]}return t.prototype.initialize=function(t,e,n){var i=this;this.diagramCanvas=t,this.interactionCanvas=e,this.gridCanvas=n;var a=this.getStageWheelOnNoKeysDown().pipe(Object(r.a)(function(t){i.updatePan(-t.pixelX*i.panSensitivity,-t.pixelY*i.panSensitivity)})),o=this.getStageWheelOnCtrlKeyDown().pipe(Object(r.a)(function(t){return i.updateZoom(1-t.pixelY*i.zoomSensitivity,t.offsetX,t.offsetY)})),s=this.getAllCanvasMouseCapture().pipe(Object(r.a)(function(){return i.interactionCanvas.canvas.focus()}));return Object(f.a)(a,o,s)},t.prototype.destroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe();this.diagramCanvas=void 0,this.interactionCanvas=void 0,this.gridCanvas=void 0},t.prototype.getShapeTouch=function(){var t=this;return this.getShapes().pipe(Object(a.a)(function(e){return Object(g.a)(e,"mousedown").pipe(Object(o.a)(Object(g.a)(t.diagramCanvas,"childRemoved").pipe(Object(s.a)(function(t){return t.child===e}))))}),Object(c.a)(function(t){return t}))},t.prototype.getShapes=function(){var t=this;return Object(m.a)(Object(y.a)(0,this.diagramCanvas.numChildren).pipe(Object(c.a)(function(e){return t.diagramCanvas.getChildAt(e)})),Object(g.a)(this.diagramCanvas,"childAdded").pipe(Object(c.a)(function(t){return t.child})))},t.prototype.getShapeRightClick=function(){return this.getShapeTouch().pipe(Object(s.a)(function(t){return 2===t.nativeEvent.button}),Object(c.a)(function(t){return new d("shapeRightClick",t)}))},t.prototype.getAllCanvas=function(){return Object(b.a)(this.diagramCanvas,this.interactionCanvas,this.gridCanvas)},t.prototype.getAllCanvasMouseCapture=function(){return this.getAllCanvas().pipe(Object(a.a)(function(t){return Object(f.a)(Object(g.a)(t,"mousedown",{capture:!0}),Object(g.a)(t,"pressmove",{capture:!0}),Object(g.a)(t,"pressup",{capture:!0}))}),Object(c.a)(function(t){return t}))},t.prototype.getStageDrag=function(t){return Object(g.a)(t,"stagemousedown").pipe(Object(u.a)(function(){return Object(g.a)(t,"stagemousemove").pipe(Object(o.a)(Object(g.a)(t,"stagemouseup")))}),Object(c.a)(function(t){return t}))},t.prototype.getStageMouseDown=function(t){return Object(g.a)(t,"mousedown").pipe(Object(c.a)(function(t){return t}))},t.prototype.getStageWheel=function(){return Object(g.a)(this.interactionCanvas.canvas,"wheel").pipe(Object(c.a)(function(t){var e=v(t);return t.pixelX=e.pixelX,t.pixelY=e.pixelY,t}),Object(r.a)(function(t){return t.preventDefault()}))},t.prototype.getStageWheelOnCtrlKeyDown=function(){return this.getStageWheel().pipe(Object(s.a)(function(t){return t.ctrlKey||t.metaKey}),Object(c.a)(function(t){return t}))},t.prototype.getStageWheelOnNoKeysDown=function(){return this.getStageWheel().pipe(Object(s.a)(function(t){return!t.metaKey&&!t.ctrlKey}),Object(c.a)(function(t){return t}))},t.prototype.getStageRightClick=function(t){return this.getStageMouseDown(t).pipe(Object(s.a)(function(t){return 2===t.nativeEvent.button}),Object(c.a)(function(t){return new p("canvasRightClick",t)}))},t.prototype.updatePan=function(t,e){this.commandService.dispatch(l.a.panDiagram,{dx:t,dy:e,animate:!1})},t.prototype.updateZoom=function(t,e,n){this.commandService.dispatch(l.a.zoomDiagram,{delta:t,toX:e,toY:n,animate:!1})},t.prototype.getCursor=function(){return Object(b.a)(this.defaultCursor)},t.prototype.getObjectsUnderPoint=function(t){return i.j(this.interactionCanvas.getObjectsUnderPoint(t.x,t.y,0),this.diagramCanvas.getObjectsUnderPoint(this.vToDcoordinate.x(t.x),this.vToDcoordinate.y(t.y),0)).filter(function(t){return!!t.getCursor})},t.prototype.getCursorByContext=function(t,e){var n=t.find(function(t){var n=t.getCursor(e);return n&&(!!n.cursor||!!n.tail)});return n?n.getCursor(e):this.defaultCursor},t.prototype.pointerMove=function(){return Object(g.a)(this.interactionCanvas,"stagemousemove").pipe(Object(c.a)(function(t){return{x:t.stageX,y:t.stageY}}))},t}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.d(e,t)}(h.Z)},MvFr:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D57K"),r=n("deqJ"),a=n("h1tj"),o=function(t){function e(e,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var a=t.call(this,e,i,r)||this;return a.relatedMouseEvent=n,a.relatedShape=n.target,a}return i.d(e,t),e.prototype.setRelatedShape=function(t){if(t.target instanceof r.a)this.relatedShape=t.target;else if(t.currentTarget instanceof r.a)this.relatedShape=t.currentTarget;else for(var e=t.target;e&&e.parent;){if(e.parent instanceof r.a){this.relatedShape=e.parent;break}e=e.parent}},e}(a.Event)},QCJn:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("D57K"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e}(n("hSRu").a)},"S83/":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("D57K"),r=n("h1tj"),a=n("d9YI"),o=n("nsO7"),s=n("fQLH"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e.get=function(t,n,i,a){return a&&r.Tween.removeTweens(t),new e(t,n,i)},e.simulate=function(t){return this.get(t)},e.prototype.to=function(e,n,i){return t.prototype.to.call(this,e,n,i),this.propNames=Object.keys(e),this},e.prototype.cancel=function(){this.completed||(this.removeFromTweens(),this.clear())},Object.defineProperty(e.prototype,"completed",{get:function(){return this.position>=this.duration},enumerable:!0,configurable:!0}),e.prototype.changes=function(){var t=this;return this._progress?this._progress:this.completed?Object(a.b)():(this._progress=new s.a,this.addEventListener("change",function(){t._progress.next(Object(o.pick)(t.target,t.propNames))}),this.call(function(){t._progress.next(Object(o.pick)(t.target,t.propNames)),t.clear()}),this._progress)},e.prototype.removeFromTweens=function(){var t=r.Tween._tweens,e=t.indexOf(this);e>-1&&t.splice(e,1),this._paused=!0},e.prototype.clear=function(){this._progress&&(this._progress.complete(),this.removeAllEventListeners("change"),this._progress=void 0)},e}(r.Tween)},T4Sa:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5xGT"),r=n("c7W3"),a=n("yn08"),o=function(){function t(t){this.commands=t}return t.prototype.onActive=function(){i.bb.track("right.styles.panel.click",{value1Type:"status",value1:"open"})},t.prototype.onInactive=function(){i.bb.track("right.styles.panel.click",{value1Type:"status",value1:"close"})},Object.defineProperty(t,"openForContextAware",{get:function(){return"onlyAll"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return"diagramcomments"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return"comment"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return"Comments"},enumerable:!0,configurable:!0}),t.prototype.toggleAddCommentMode=function(){var t={state:a.b.Comment};this.commands.dispatch(r.a.changeMouseControlState,null,t)},t}()},TQyE:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("R+ki"),r=n("fQLH"),a=n("LiEJ"),o=n("d9YI"),s=n("nsO7"),c=function(){function t(){this._change=new r.a,this._isDiffColor=new a.a(!1),this._label=new a.a("")}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._change.pipe(Object(i.a)(100))},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._data=Object(s.clone)(t),void 0!==this._data.params&&(this._data.params.isDiffColor?(this._data.value="#FFFFFF",this._isDiffColor.next(!0)):this._isDiffColor.next(!1))},t.prototype.setProperties=function(t){this._props=t},t.prototype.apply=function(){this.colorpicker.nativeElement.style.backgroundColor=this._data.value,this._label.next(this._props.label)},t.prototype.applyAnimated=function(){return this.apply(),Object(o.b)()},t}()},c3EF:function(t,e,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},deqJ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("D57K"),r=n("h1tj"),a=function(t){function e(e,n){var i=t.call(this)||this;return i._type=n,i.name=e,i}return i.d(e,t),e.prototype.getCursor=function(t){return null},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e.prototype.convertToCursorDrawable=function(t){var e=this;t.getCursor=function(t){return e.getCursor(t)}},e}(r.Container)},elRR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("D57K"),r=(n("Wpmq"),n("U3QC")),a=n("gQst"),o=(n("5xGT"),function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.commandService=e,i.vToDcoordinate=n,i}return i.d(e,t),e.prototype.initialize=function(e,n,i){var o=this,s=t.prototype.initialize.call(this,e,n,i),c=this.getStageDrag(n).pipe(Object(r.a)(function(t){return o.updatePan(t.nativeEvent.movementX,t.nativeEvent.movementY)})),u=this.getAllCanvasMouseCapture().pipe(Object(r.a)(function(t){return t.stopPropagation()}));return Object(a.a)(s,c,u)},Object.defineProperty(e.prototype,"defaultCursor",{get:function(){return{cursor:"move",tail:null,type:"css"}},enumerable:!0,configurable:!0}),e.prototype.shapeTouched=function(t){},e}(n("LLEj").a));Object.defineProperty(o,"name",{value:"ViewerInteractionHandler"})},hSRu:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Jg5f"),r=n("LiEJ"),a=n("d9YI"),o=n("fQLH"),s=(n("NNJu"),function(){function t(){this._data=new r.a(null),this.change=new o.a}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data.value},set:function(t){this._data.next(t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this.data=t},t.prototype.setProperties=function(t){this.props=t},t.prototype.ngAfterViewInit=function(){var t=this;this.absDropdown.changed.subscribe(function(e){var n=t.data.value.find(function(t){return t.id===e[0]});t.change.next(n)})},t.prototype.select=function(t){},t.prototype.apply=function(){},t.prototype.applyAnimated=function(){return Object(a.b)()},Object.defineProperty(t.prototype,"dropdownType",{get:function(){var t=this.data.value.find(function(t){return t.selected});return t?t.buttonIcon?"icon":"text":this.props.icon?"icon":"text"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultItems",{get:function(){return this._data.pipe(Object(i.a)(function(t){return t.value.filter(function(t){return!t.custom})}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customItems",{get:function(){return this._data.pipe(Object(i.a)(function(t){return t.value.filter(function(t){return t.custom})}))},enumerable:!0,configurable:!0}),t}())},ljsB:function(t,e,n){"use strict";var i=n("D57K"),r=n("5xGT"),a=n("S83/"),o=n("h1tj"),s=n("Jg5f"),c=function(t){function e(e){var n=t.call(this)||this;return n.state=e,n}return i.d(e,t),Object.defineProperty(e,"dataDefinition",{get:function(){return{x:!0,y:!0,dx:!1,dy:!1,currentX:!1,currentY:!1,animate:!1}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"implements",{get:function(){return["IStateChangeCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return{DiagramPan:this.data.panStateData}},enumerable:!0,configurable:!0}),e.prototype.prepareData=function(){var t=this.state.get("DiagramPan");this.data.currentX=t.x,this.data.currentY=t.y,this.calculateXY(),!1===this.data.animate?this.data.panStateData=this.extractStateData(this.data):this.data.panStateData=this.simulateAnimation()},e.prototype.calculateXY=function(){void 0!==this.data.dx&&(this.data.x=this.data.currentX+this.data.dx),void 0!==this.data.dy&&(this.data.y=this.data.currentY+this.data.dy)},e.prototype.simulateAnimation=function(){var t=this;return a.a.simulate({x:this.data.currentX,y:this.data.currentY}).to({x:this.data.x,y:this.data.y},300,o.Ease.sineOut).changes().pipe(Object(s.a)(function(e){return t.extractStateData({x:e.x,y:e.y})}))},e.prototype.extractStateData=function(t){var e=t.x,n=t.y;return new o.Point(e,n)},e.prototype.execute=function(){return!0},e=i.c([Object(r.l)(),i.f("design:paramtypes",[r.Z])],e)}(r.a);Object.defineProperty(c,"name",{value:"PanDiagram"});var u=function(t){function e(e){var n=t.call(this)||this;return n.state=e,n}return i.d(e,t),Object.defineProperty(e,"dataDefinition",{get:function(){return{level:!0,currentLevel:!1,toX:!1,toY:!1,toCenter:!1,currentPan:!1,delta:!1,animate:!1}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"implements",{get:function(){return["IStateChangeCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return this.data.panStateData?{DiagramZoomLevel:this.data.zoomStateData,DiagramPan:this.data.panStateData}:{DiagramZoomLevel:this.data.zoomStateData}},enumerable:!0,configurable:!0}),e.prototype.prepareData=function(){this.setZoomLevel(),this.setPan();var t=void 0!==this.data.toX&&void 0!==this.data.toY;if(!1===this.data.animate)this.data.zoomStateData=this.data.level,t&&(this.data.panStateData=this.getPan());else{var e=this.simulateAnimation();this.data.zoomStateData=e.pipe(Object(s.a)(function(t){return t.level})),t&&(this.data.panStateData=e.pipe(Object(s.a)(function(t){return new o.Point(t.x,t.y)})))}},e.prototype.getPan=function(){var t=this.data.level/this.data.currentLevel,e=(this.data.currentPan.x-this.data.toX)*t+this.data.toX,n=(this.data.currentPan.y-this.data.toY)*t+this.data.toY;return new o.Point(e,n)},e.prototype.setPan=function(){this.data.currentPan=this.state.get("DiagramPan");var t=this.state.get("DiagramViewPort");this.data.toCenter&&(this.data.toX=t.centerX,this.data.toY=t.centerY)},e.prototype.setZoomLevel=function(){this.data.currentLevel=this.state.get("DiagramZoomLevel"),!this.data.level&&this.data.delta>0&&(this.data.level=this.data.currentLevel*this.data.delta)},e.prototype.simulateAnimation=function(){var t=this.getPan();return a.a.simulate({level:this.data.currentLevel,x:this.data.currentPan.x,y:this.data.currentPan.y}).to({level:this.data.level,x:t.x,y:t.y},300,o.Ease.sineOut).changes()},e.prototype.execute=function(){return!0},e=i.c([Object(r.l)(),i.f("design:paramtypes",[r.Z])],e)}(r.a);Object.defineProperty(u,"name",{value:"ZoomDiagram"}),n.d(e,"a",function(){return p});var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e.register=function(t){t.map(e.zoomDiagram).add(u),t.map(e.panDiagram).add(c),t.mapSequence(e.zoomAndPanDiagram).add(u).add(c,{transform:function(t){return{x:t.data[0].x,y:t.data[0].y}}})},e.zoomDiagram=new e("ZoomDiagram"),e.panDiagram=new e("PanDiagram"),e.zoomAndPanDiagram=new e("ZoomAndPanDiagram"),e}(r.o)},myrl:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("TQyE"),r=n("fQLH"),a=n("LiEJ"),o=n("d9YI"),s=n("nsO7"),c=function(){function t(t,e){this.resolver=t,this.injector=e,this.currentColorPickerComponents={},this.currentDataItemIds=[],this.componentRefreshRequired=!1,this.colorPickerSubscriptions=[],this._change=new r.a,this.valueSource=new a.a("")}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._change},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){var e=t.map(function(t){return t.id});this.currentDataItemIds.length>0?Object(s.isEqual)(this.currentDataItemIds.sort(),e.sort())?this.componentRefreshRequired=!1:(this.componentRefreshRequired=!0,this.currentDataItemIds=e):(this.currentDataItemIds=e,this.componentRefreshRequired=!0),this._data=t},t.prototype.setProperties=function(t){this._props=t},t.prototype.apply=function(){var t=this;this.componentRefreshRequired?(this.currentColorPickerComponents={},this.colorPickerSubscriptions.forEach(function(t){t.unsubscribe()}),this.colorPickerSubscriptions=[],this.singleColorPickerSection.clear(),this._data.forEach(function(e){var n=t.getColorPicker(e);n.instance.apply(),n.changeDetectorRef.markForCheck();var i=n.instance.change.subscribe(function(n){t._change.next({item:e,change:n})});t.colorPickerSubscriptions.push(i)})):this._data.forEach(function(e){t.getColorPicker(e).instance.apply()})},t.prototype.applyAnimated=function(){return this.apply(),Object(o.b)()},t.prototype.createColorPicker=function(t){var e=this.resolver.resolveComponentFactory(i.a);return this.singleColorPickerSection.createComponent(e)},t.prototype.getColorPicker=function(t){this.currentColorPickerComponents[t.id]||(this.currentColorPickerComponents[t.id]=this.createColorPicker(t.id));var e=this.currentColorPickerComponents[t.id];return e.instance.setProperties({label:t.label}),e.instance.setData({value:t.style.fillColor?t.style.fillColor:t.style.lineColor}),e},t}()},yhNa:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fQLH"),r=n("LiEJ"),a=n("d9YI"),o=function(){function t(){this._change=new i.a,this.valueSource=new r.a("")}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._change.asObservable()},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this._data=t},t.prototype.setProperties=function(t){this._props=t},t.prototype.apply=function(){this.valueSource.next(this._data.value)},t.prototype.applyAnimated=function(){return this.apply(),Object(a.b)()},t}()}}]);