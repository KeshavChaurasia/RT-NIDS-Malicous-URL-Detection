(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/6pf":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("z5yO"),i=n("G2Mx"),a=n("Jg5f"),o=(n("5xGT"),n("pN2L")),s=function(){function e(e){this.state=e}return e.prototype.getFeatureData=function(e,t){return Object(o.a)(t)},e.prototype.getApplyData=function(e,t){return this.state.get("EditingText").open?this.state.changes("EditingText").pipe(Object(r.a)(function(e){return!e.open}),Object(i.a)(1),Object(a.a)(function(){return t})):Object(o.a)(t)},e}()},"/AT2":function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){return e instanceof Blob||"[object Blob]"===r.call(e)}},"/nnd":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("5xGT"),i=n("19Zn"),a=n("iJR/"),o=n("AouM"),s=n("HswR"),l=n("z5yO"),c=n("Jg5f"),u=n("G2Mx"),p=(n("QoSw"),n("c7W3")),d=(n("ZyLw"),n("w5Uk"),function(){function e(e,t,n,r){this.loader=e,this.state=t,this.ll=n,this.commandService=r,this.previewState=!1,this.styledText=this.getStyledText(),this.textFormatter=new i.y}return Object.defineProperty(e,"openForContextAware",{get:function(){return"atLeastOne"},enumerable:!0,configurable:!0}),e.prototype.onActive=function(){r.bb.track("right.textstyles.panel.click",{value1Type:"status",value1:"open"})},e.prototype.onInactive=function(){r.bb.track("right.textstyles.panel.click",{value1Type:"status",value1:"close"})},Object.defineProperty(e.prototype,"id",{get:function(){return"textstyle"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return"text-style"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return"Text Styles"},enumerable:!0,configurable:!0}),e.prototype.getShapeText=function(){var e=this.ll.forCurrent(!1);return this.state.changes("Selected").pipe(Object(o.a)(function(t){return Object(a.a)(t).pipe(Object(s.a)(function(t){return e.getShapeOnce(t).pipe(Object(l.a)(function(e){return e.hasAnyText}),Object(c.a)(function(e){return e.previewText}))}),Object(u.a)(1))}))},e.prototype.getStyledText=function(){var e=this;return this.getShapeText().pipe(Object(c.a)(function(t){return e.loader.getTextStyles().map(function(n,r){var i={indexStart:0,indexEnd:void 0,styles:n};return{id:"tstc-"+r,textStyle:e.textFormatter.apply(t,i),format:i}})}))},e.prototype.previewTileStyles=function(e){this.previewState=!0,this.commandService.preview(p.a.applyShapeStyle,{format:e})},e.prototype.setTileStyles=function(e){r.bb.track("right.textstyles.swatch.click"),this.commandService.dispatch(p.a.applyShapeStyle,{format:e})},e.prototype.resetTilePreview=function(){this.previewState&&(this.commandService.dispatch(p.a.resetDiagramPreview),this.previewState=!1)},e}())},"0fSw":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this.toolbars={}}return e.prototype.register=function(e){if(!e||!e.id)throw new Error("The floating toolbar instance to be registered is not valid.");this.toolbars[e.id]=e},e.prototype.unregister=function(e){delete this.toolbars[e]},e.prototype.get=function(e){var t=this.toolbars[e];if(!t)throw new Error("There was no toolbar registered for the id "+e);return t},e}()},"13fK":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("pN2L"),i=(n("5xGT"),function(){function e(e){this.states=e}return e.prototype.getFeatureData=function(e,t){var n=t.options.map(function(e){return{id:e.id,label:e.label,itemIcon:{type:"svg",value:e.icon},value:e}});return Object(r.a)({value:n})},e.prototype.getApplyData=function(e){var t={shapeIds:this.states.get("Selected"),isVertical:e.value.isVertical,alignment:e.value.alignment};return Object(r.a)(t)},e}())},"1U5y":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("5xGT"),i=(n("19Zn"),n("cQOC")),a=n("pN2L"),o=n("nsO7"),s=n("6EBr"),l=n("Jg5f"),c=(n("0jHB"),function(){function e(e,t){this.staticRenderer=e,this.defLocator=t,this.longArrowWidth=70,this.shortArrowWidth=30,this.arrowheadHeight=11.5,this.arrowThickness=2}return e.prototype.getFeatureData=function(e,t){var n=this,r="changeLeftArrowHead"===e?"left":"right",i=t.options.map(function(e){return n.getItemData(e,e,r,t.shapeId,t.end)}),a=this.getItemData("none",null,r,t.shapeId,t.end);i.unshift(a);var s=Object(o.uniqBy)(i,function(e){return e.id});return(s.find(function(e){return e.id===t.selected})||a).selected=!0,this.loadSourceFiles(t.options).pipe(Object(l.a)(function(){return{value:s}}))},e.prototype.loadSourceFiles=function(e){var t=this,n=e.map(function(e){return t.defLocator.getClass(e)});return Object(i.a)(n)},e.prototype.getItemData=function(e,t,n,r,i){return{id:e,label:null,itemIcon:this.getDrawableIcon(t,n,this.longArrowWidth),buttonIcon:this.getDrawableIcon(t,n,this.shortArrowWidth),value:t,shapeId:r,end:i}},e.prototype.getDrawableIcon=function(e,t,n){var i=this;if(!e)return n===this.shortArrowWidth?"left"===t?{type:"svg",value:"arrow-default-left"}:{type:"svg",value:"arrow-default-right"}:{type:"canvas",value:function(e,t){var r=t?s.a.primarySelectionColor:s.a.defaultIconColor;i.drawTail(e,r,n)}};var a=r.I.fromTransform({scaleX:1,scaleY:1,skewX:0,skewY:0,x:"right"===t?n-this.arrowThickness:this.arrowThickness,y:this.arrowheadHeight/2+2*this.arrowThickness,angle:"right"===t?0:180});return{type:"canvas",value:function(t,r){var o=r?s.a.primarySelectionColor:s.a.defaultIconColor;i.drawTail(t,o,n),i.staticRenderer.renderArrowHeadSync(t,e,{x:0,y:0,width:i.arrowheadHeight,height:i.arrowheadHeight},a,{lineColor:o,lineThickness:i.arrowThickness})}}},e.prototype.drawTail=function(e,t,n){e.setStrokeStyle(this.arrowThickness),e.beginStroke(t),e.moveTo(this.arrowThickness,this.arrowheadHeight/2+2*this.arrowThickness),e.lineTo(n-this.arrowThickness,this.arrowheadHeight/2+2*this.arrowThickness)},e.prototype.getApplyData=function(e){var t,n,r={changes:(t={},t[e.shapeId]=(n={},n[e.end]=e.value,n),t)};return Object(a.a)(r)},e}())},"1hm4":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("LoAr"),i=function(){function e(){this.hasAllCheckBox=!0,this.hasFilter=!1,this.hasCollapseExpand=!1,this.decoupleChildFromParent=!1,this.maxHeight=500}return Object.defineProperty(e.prototype,"hasDivider",{get:function(){return this.hasFilter||this.hasAllCheckBox||this.hasCollapseExpand},enumerable:!0,configurable:!0}),e.create=function(t){var n=new e;return Object.assign(n,t),n},e.decorators=[{type:r.v}],e}()},"2ZsA":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("6EBr"),i=n("pN2L"),a=function(){function e(){this.btnRadius=12.5,this.itemRadius=11}return e.prototype.getFeatureData=function(e,t){var n=this;return t.data.forEach(function(e){e.buttonIcon=n.getDrawableIcon(e.value,n.btnRadius,!1),e.itemIcon=n.getDrawableIcon(e.value,n.itemRadius,e.selected)}),Object(i.a)({value:t.data})},e.prototype.getDrawableIcon=function(e,t,n){return{type:"canvas",value:function(i,a){i.setStrokeStyle(1),i.beginStroke("rgb(255, 255, 255)"===e?"#E7E6E6":e),i.beginFill(e),i.drawCircle(t,t,t-3),i.endFill(),i.endStroke(),(a||n)&&(i.setStrokeStyle(1),i.beginStroke(r.a.primarySelectionColor),i.drawCircle(t,t,t-1),i.endStroke())},width:2*t,height:2*t}},e.prototype.getApplyData=function(e){return Object(i.a)({styles:{color:e.value}})},e}()},"2zxM":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("pN2L"),i=(n("5xGT"),n("w1VY"),n("SBw3"),n("Jg5f")),a=(n("wx9+"),function(){function e(e,t,n,r,i){this.viewport=e,this.coordinate=t,this.state=n,this.random=r,this.featureList=i}return e.prototype.getFeatureData=function(e){var t=this.featureList.getFeature(e);return Object(r.a)(t)},e.prototype.getApplyData=function(e){var t=this;return this.viewport.getShapeOnce(this.state.get("Selected")[0]).pipe(Object(i.a)(function(e){var n=t.coordinate.width(100),r=e.bounds.y+e.bounds.height/2;return{id:t.random.shapeId(),points:[{id:t.random.pointId(),x:e.bounds.right,y:r,shapeId:e.id},{id:t.random.pointId(),x:e.bounds.right+n,y:r}]}}))},e}())},"3+4Q":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("D57K"),i=n("wgY5"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.isDeleted=function(){return!!this.deleted},t.prototype.isEdited=function(){return!!this.edited},t.prototype.isNew=function(){return!1},t.prototype.getTime=function(){return""+i(this.added).fromNow()},t}(n("5xGT").f)},"3ZiE":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("LoAr"),i=n("B33Y"),a=function(){function e(e,t){this.dropdown=e,e.toggleElement=t.nativeElement}return e.decorators=[{type:r.n,args:[{selector:"[ngxDropdownToggle]",host:{class:"dropdown-toggle","aria-haspopup":"true","[attr.aria-expanded]":"dropdown.isOpen","(click)":"dropdown.toggle()"}}]}],e.ctorParameters=function(){return[{type:i.a},{type:r.o}]},e}()},"6EBr":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("D57K"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.primarySelectionColor="#F39C12",t.primarySelectionLineColor="#FEB986",t.selectionHandleRadius=6,t.selectionHandleLineThickness=1,t.primarySelectionHandleColor="#BABABA",t.secondarySelectionHandleColor="#30BA9B",t.selectionBoundDashStyle=[2,2],t}(n("19Zn").b)},"6T0K":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("d9YI"),i=n("19Zn"),a=function(){function e(){this.textFormatter=new i.y}return Object.defineProperty(e.prototype,"name",{get:function(){return"TextDataItemBinder"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paths",{get:function(){return["data","texts"]},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=e.__sakota__.getChanges();if(t.$set)return this.applyDataToText(e,t),this.applyTextToData(e,t),Object(r.b)()},e.prototype.applyDataToText=function(t,n){for(var r in n.$set){e.regexData.lastIndex=0;var i=e.regexData.exec(r);if(i){var a=i[1],o=i[2];if(!n.$set["shapes."+a+".texts."+o+".value"]){var s=t.shapes[a].texts[o];if(s){var l=n.$set[r];s.value=this.textFormatter.apply(l,{indexStart:0,indexEnd:l.length,styles:this.textFormatter.extractCommon(s.value)})}}}}},e.prototype.applyTextToData=function(t,n){for(var r in n.$set){e.regexText.lastIndex=0;var i=e.regexText.exec(r);if(i){var a=i[1],o=i[2],s=t.shapes[a];if(s.data){var l=s.data[o];l&&(l.value=this.textFormatter.plainText(n.$set[r]))}}}},e.regexData=/shapes\.([^\.]+)\.data.([^\.]+)\.value/g,e.regexText=/shapes\.([^\.]+)\.texts.([^\.]+)\.value/g,e}()},"75wD":function(e,t){var n;e.exports=function(e){return function(t){var r=(t=t.toLowerCase().trim()).lastIndexOf("/");return r>=0&&(t=t.substr(r+1)),(r=t.lastIndexOf("."))>=0&&(t=t.substr(r+1)),n[t]||e}},n={"3gp":"video/3gpp",a:"application/octet-stream",ai:"application/postscript",aif:"audio/x-aiff",aiff:"audio/x-aiff",asc:"application/pgp-signature",asf:"video/x-ms-asf",asm:"text/x-asm",asx:"video/x-ms-asf",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bat:"application/x-msdownload",bin:"application/octet-stream",bmp:"image/bmp",bz2:"application/x-bzip2",c:"text/x-csrc",cab:"application/vnd.ms-cab-compressed",can:"application/candor",cc:"text/x-c++src",chm:"application/vnd.ms-htmlhelp",class:"application/octet-stream",com:"application/x-msdownload",conf:"text/plain",cpp:"text/x-c",crt:"application/x-x509-ca-cert",css:"text/css",csv:"text/csv",cxx:"text/x-c",deb:"application/x-debian-package",der:"application/x-x509-ca-cert",diff:"text/x-diff",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/octet-stream",doc:"application/msword",dot:"application/msword",dtd:"application/xml-dtd",dvi:"application/x-dvi",ear:"application/java-archive",eml:"message/rfc822",eps:"application/postscript",exe:"application/x-msdownload",f:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",flv:"video/x-flv",for:"text/x-fortran",gem:"application/octet-stream",gemspec:"text/x-script.ruby",gif:"image/gif",gyp:"text/x-script.python",gypi:"text/x-script.python",gz:"application/x-gzip",h:"text/x-chdr",hh:"text/x-c++hdr",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",ifb:"text/calendar",iso:"application/octet-stream",jar:"application/java-archive",java:"text/x-java-source",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",less:"text/css",log:"text/plain",lua:"text/x-script.lua",luac:"application/x-bytecode.lua",makefile:"text/x-makefile",m3u:"audio/x-mpegurl",m4v:"video/mp4",man:"text/troff",manifest:"text/cache-manifest",markdown:"text/x-markdown",mathml:"application/mathml+xml",mbox:"application/mbox",mdoc:"text/troff",md:"text/x-markdown",me:"text/troff",mid:"audio/midi",midi:"audio/midi",mime:"message/rfc822",mml:"application/mathml+xml",mng:"video/x-mng",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",ms:"text/troff",msi:"application/x-msdownload",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",p:"text/x-pascal",pas:"text/x-pascal",pbm:"image/x-portable-bitmap",pdf:"application/pdf",pem:"application/x-x509-ca-cert",pgm:"image/x-portable-graymap",pgp:"application/pgp-encrypted",pkg:"application/octet-stream",pl:"text/x-script.perl",pm:"text/x-script.perl-module",png:"image/png",pnm:"image/x-portable-anymap",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",psd:"image/vnd.adobe.photoshop",py:"text/x-script.python",qt:"video/quicktime",ra:"audio/x-pn-realaudio",rake:"text/x-script.ruby",ram:"audio/x-pn-realaudio",rar:"application/x-rar-compressed",rb:"text/x-script.ruby",rdf:"application/rdf+xml",roff:"text/troff",rpm:"application/x-redhat-package-manager",rss:"application/rss+xml",rtf:"application/rtf",ru:"text/x-script.ruby",s:"text/x-asm",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",sig:"application/pgp-signature",snd:"audio/basic",so:"application/octet-stream",svg:"image/svg+xml",svgz:"image/svg+xml",swf:"application/x-shockwave-flash",t:"text/troff",tar:"application/x-tar",tbz:"application/x-bzip-compressed-tar",tci:"application/x-topcloud",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",torrent:"application/x-bittorrent",tr:"text/troff",ttf:"application/x-font-ttf",txt:"text/plain",vcf:"text/x-vcard",vcs:"text/x-vcalendar",vrml:"model/vrml",war:"application/java-archive",wav:"audio/x-wav",webapp:"application/x-web-app-manifest+json",webm:"video/webm",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wrl:"model/vrml",wsdl:"application/wsdl+xml",xbm:"image/x-xbitmap",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xslt:"application/xslt+xml",yaml:"text/yaml",yml:"text/yaml",zip:"application/zip"}},"7pFi":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var r=n("LoAr"),i=n("YEP7"),a=n("WT9V"),o=(r.Cb(i.d,[],function(e){return r.Mb([r.Nb(512,r.l,r.qb,[[8,[]],[3,r.l],r.F]),r.Nb(4608,a.m,a.l,[r.B,[2,a.x]]),r.Nb(1073742336,a.c,a.c,[]),r.Nb(1073742336,i.d,i.d,[])])}),r.Db({encapsulation:2,styles:["\n\nperfect-scrollbar {\n  position: relative;\n\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  max-height: 100%;\n}\n\nperfect-scrollbar[hidden] {\n  display: none;\n}\n\nperfect-scrollbar[fxflex] {\n  display: flex;\n  flex-direction: column;\n  height: auto;\n  min-width: 0;\n  min-height: 0;\n\n  -webkit-box-direction: column;\n  -webkit-box-orient: column;\n}\n\nperfect-scrollbar[fxflex] > .ps {\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  width: auto;\n  height: auto;\n  min-width: 0;\n  min-height: 0;\n\n  -webkit-box-flex: 1;\n}\n\nperfect-scrollbar[fxlayout] > .ps,\nperfect-scrollbar[fxlayout] > .ps > .ps-content {\n  display: flex;\n\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  flex-direction: inherit;\n  align-items: inherit;\n  align-content: inherit;\n  justify-content: inherit;\n  width: 100%;\n  height: 100%;\n\n  -webkit-box-align: inherit;\n  -webkit-box-direction: inherit;\n  -webkit-box-flex: 1;\n  -webkit-box-orient: inherit;\n  -webkit-box-pack: inherit;\n}\n\nperfect-scrollbar[fxlayout='row'] > .ps,\nperfect-scrollbar[fxlayout='row'] > .ps > .ps-content, {\n  flex-direction: row !important;\n\n  -webkit-box-direction: row !important;\n  -webkit-box-orient: row !important;\n}\n\nperfect-scrollbar[fxlayout='column'] > .ps,\nperfect-scrollbar[fxlayout='column'] > .ps > .ps-content {\n  flex-direction: column !important;\n\n  -webkit-box-direction: column !important;\n  -webkit-box-orient: column !important;\n}\n\nperfect-scrollbar > .ps {\n  position: static;\n\n  display: block;\n  width: inherit;\n  height: inherit;\n  max-width: inherit;\n  max-height: inherit;\n}\n\nperfect-scrollbar > .ps > .ps-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  display: block;\n  overflow: hidden;\n\n  pointer-events: none;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-top,\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-left,\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-right,\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-bottom {\n  position: absolute;\n\n  opacity: 0;\n\n  transition: opacity 300ms ease-in-out;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-top,\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-bottom {\n  left: 0;\n\n  min-width: 100%;\n  min-height: 24px;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-left,\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-right {\n  top: 0;\n\n  min-width: 24px;\n  min-height: 100%;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-top {\n  top: 0;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-left {\n  left: 0;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-right {\n  right: 0;\n}\n\nperfect-scrollbar > .ps > .ps-overlay .ps-indicator-bottom {\n  bottom: 0;\n}\n\nperfect-scrollbar > .ps.ps--active-y > .ps__rail-y {\n  top: 0 !important;\n  right: 0 !important;\n  left: auto !important;\n\n  width: 10px;\n\n  cursor: default;\n\n  transition:\n    width 200ms linear,\n    opacity 200ms linear,\n    background-color 200ms linear;\n}\n\nperfect-scrollbar > .ps.ps--active-y > .ps__rail-y:hover,\nperfect-scrollbar > .ps.ps--active-y > .ps__rail-y.ps--clicking {\n  width: 15px;\n}\n\nperfect-scrollbar > .ps.ps--active-x > .ps__rail-x {\n  top: auto !important;\n  bottom: 0 !important;\n  left: 0 !important;\n\n  height: 10px;\n\n  cursor: default;\n\n  transition:\n    height 200ms linear,\n    opacity 200ms linear,\n    background-color 200ms linear;\n}\n\nperfect-scrollbar > .ps.ps--active-x > .ps__rail-x:hover,\nperfect-scrollbar > .ps.ps--active-x > .ps__rail-x.ps--clicking {\n  height: 15px;\n}\n\nperfect-scrollbar > .ps.ps--active-x.ps--active-y > .ps__rail-y {\n  margin: 0 0 10px;\n}\n\nperfect-scrollbar > .ps.ps--active-x.ps--active-y > .ps__rail-x {\n  margin: 0 10px 0 0;\n}\n\nperfect-scrollbar > .ps.ps--scrolling-y > .ps__rail-y,\nperfect-scrollbar > .ps.ps--scrolling-x > .ps__rail-x {\n  opacity: 0.9;\n\n  background-color: #eee;\n}\n\nperfect-scrollbar.ps-show-always > .ps.ps--active-y > .ps__rail-y,\nperfect-scrollbar.ps-show-always > .ps.ps--active-x > .ps__rail-x {\n  opacity: 0.6;\n}\n\nperfect-scrollbar.ps-show-active > .ps.ps--active-y > .ps-overlay:not(.ps-at-top) .ps-indicator-top {\n  opacity: 1;\n\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active > .ps.ps--active-y > .ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom {\n  opacity: 1;\n\n  background: linear-gradient(to top, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active > .ps.ps--active-x > .ps-overlay:not(.ps-at-left) .ps-indicator-left {\n  opacity: 1;\n\n  background: linear-gradient(to right, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active > .ps.ps--active-x > .ps-overlay:not(.ps-at-right) .ps-indicator-right {\n  opacity: 1;\n\n  background: linear-gradient(to left, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-y > .ps-overlay.ps-at-top .ps-indicator-top {\n  background: linear-gradient(to bottom, rgba(170, 170, 170, 0.5) 0%, rgba(170, 170, 170, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-y > .ps-overlay.ps-at-bottom .ps-indicator-bottom {\n  background: linear-gradient(to top, rgba(170, 170, 170, 0.5) 0%, rgba(170, 170, 170, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-x > .ps-overlay.ps-at-left .ps-indicator-left {\n  background: linear-gradient(to right, rgba(170, 170, 170, 0.5) 0%, rgba(170, 170, 170, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-x > .ps-overlay.ps-at-right .ps-indicator-right {\n  background: linear-gradient(to left, rgba(170, 170, 170, 0.5) 0%, rgba(170, 170, 170, 0) 100%);\n}\n\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-y > .ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show,\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-y > .ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-x > .ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,\nperfect-scrollbar.ps-show-active.ps-show-limits > .ps.ps--active-x > .ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show {\n  opacity: 1;\n}\n","\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  \n  bottom: 0px;\n  \n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  \n  right: 0;\n  \n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  \n  bottom: 2px;\n  \n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  \n  right: 2px;\n  \n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n"],data:{}}));function s(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,4,"div",[["class","ps-overlay"]],[[2,"ps-at-top",null],[2,"ps-at-left",null],[2,"ps-at-right",null],[2,"ps-at-bottom",null]],null,null,null,null)),(e()(),r.Fb(1,0,null,null,0,"div",[["class","ps-indicator-top"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(e()(),r.Fb(2,0,null,null,0,"div",[["class","ps-indicator-left"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(e()(),r.Fb(3,0,null,null,0,"div",[["class","ps-indicator-right"]],[[2,"ps-indicator-show",null]],null,null,null,null)),(e()(),r.Fb(4,0,null,null,0,"div",[["class","ps-indicator-bottom"]],[[2,"ps-indicator-show",null]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.states.top,n.states.left,n.states.right,n.states.bottom),e(t,1,0,n.indicatorY&&n.interaction),e(t,2,0,n.indicatorX&&n.interaction),e(t,3,0,n.indicatorX&&n.interaction),e(t,4,0,n.indicatorY&&n.interaction)})}function l(e){return r.Zb(0,[r.Vb(402653184,1,{directiveRef:0}),(e()(),r.Fb(1,0,null,null,5,"div",[["style","position: static;"]],[[2,"ps",null]],null,null,null,null)),r.Eb(2,999424,[[1,4]],0,i.c,[r.H,r.A,r.o,r.K,[2,i.a]],{disabled:[0,"disabled"],config:[1,"config"]},null),(e()(),r.Fb(3,0,null,null,1,"div",[["class","ps-content"]],null,null,null,null,null)),r.Ob(null,0),(e()(),r.wb(16777216,null,null,1,null,s)),r.Eb(6,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.disabled,n.config),e(t,6,0,n.scrollIndicators)},function(e,t){e(t,1,0,t.component.usePSClass)})}r.Bb("perfect-scrollbar",i.b,function(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,1,"perfect-scrollbar",[],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,l,o)),r.Eb(1,507904,null,0,i.b,[r.H,r.i,r.K],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,r.Pb(t,1).autoPropagation,r.Pb(t,1).scrollIndicators)})},{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},["*"])},B33Y:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("LoAr"),i=n("nsO7"),a=function(){function e(){this.internalOpen=!1,this.openChange=new r.q}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.internalOpen},enumerable:!0,configurable:!0}),e.prototype.onKeyupEsc=function(){this.close()},e.prototype.onDocumentClick=function(e){2===e.button||this.isEventFromToggle(e)||this.close()},e.prototype.open=function(){this.internalOpen||(this.internalOpen=!0,this.openChange.emit(!0))},e.prototype.close=function(){this.internalOpen&&(this.internalOpen=!1,this.openChange.emit(!1))},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.isEventFromToggle=function(e){return!Object(i.isNil)(this.toggleElement)&&this.toggleElement.contains(e.target)},e.decorators=[{type:r.n,args:[{selector:"[ngxDropdown]",exportAs:"ngxDropdown"}]}],e.propDecorators={internalOpen:[{type:r.y,args:["open"]}],openChange:[{type:r.J}],isOpen:[{type:r.s,args:["class.show"]}],onKeyupEsc:[{type:r.t,args:["keyup.esc"]}],onDocumentClick:[{type:r.t,args:["document:click",["$event"]]}]},e}()},BQpn:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("D57K"),i=n("nsO7"),a=n("pN2L"),o=n("cQOC"),s=n("fB16"),l=(n("5xGT"),n("SBw3"),n("QoSw"),n("AouM")),c=n("Jg5f"),u=function(e){function t(t,n,r,i,a){var o=e.call(this,n,r,a)||this;return o.state=t,o.ll=i,o}return r.d(t,e),t.prototype.getContextMenuItemsId=function(e){var t=this;return this.ll.forCurrent(!1).getDiagramOnce().pipe(Object(l.a)(function(n){return"canvasRightClick"===e.type?Object(a.a)(n.getContextMenuItems()):t.getShapeMenuItems(e.relatedShape.name)}))},t.prototype.getShapeMenuItems=function(e){var t,n=this,i=this.state.get("Selected");return 0===i.length?t=this.getMenuItemsForSingleShape(e):1===i.length?t=this.getMenuItemsForSingleShape(i[0]):i.length>1&&(t=this.ll.forCurrent(!1).getDiagramOnce().pipe(Object(l.a)(function(e){return e.sameType(i)?n.getMenuItemsForMultiShapeSameType(i):n.getMenuItemsForMultiShape(i)}))),t.pipe(Object(l.a)(function(e){var t;return t=e.map(function(e){return n.isFeatureEnabled(e)}),o.a.apply(void 0,r.j(t)).pipe(Object(c.a)(function(t){return e.filter(function(e,n){return t[n]})}))}))},t.prototype.isFeatureEnabled=function(e){var t=this.featureList.getFeature(e);if(t.transformer){var n=this.injector.get(t.transformer);if(n.isEnabled)return n.isEnabled(t.id)}return Object(a.a)(!0)},t.prototype.getMenuItemsForSingleShape=function(e){return this.ll.forCurrent(!1).getShapeOnce(e).pipe(Object(c.a)(function(e){return e.getContextMenuItems()}))},t.prototype.getMenuItemsForMultiShapeSameType=function(e){var t=this;return o.a.apply(void 0,r.j(e.map(function(e){return t.ll.forCurrent(!1).getShapeOnce(e).pipe(Object(c.a)(function(e){return e.getContextMenuForSameType()}))}))).pipe(Object(c.a)(function(e){return e.reduce(function(e,t){return Object(i.intersection)(e,t)})}))},t.prototype.getMenuItemsForMultiShape=function(e){var t=this;return o.a.apply(void 0,r.j(e.map(function(e){return t.ll.forCurrent(!1).getShapeOnce(e).pipe(Object(c.a)(function(e){return e.getContextMenuForMultipleTypes()}))}))).pipe(Object(c.a)(function(e){return e.reduce(function(e,t){return Object(i.intersection)(e,t)})}))},t}(s.a)},C3qL:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("D57K"),i=n("pN2L"),a=n("nsO7"),o=function(){function e(){this.fillColorLabel="Fill Color ",this.lineColorLabel="Line Color "}return e.prototype.getFeatureData=function(e,t){var n=[];return Object.keys(t).forEach(function(e){var i=t[e];i.locked||n.push(r.a({},i,{id:e}))}),n.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}),Object(i.a)(this.setLabels(n))},e.prototype.setLabels=function(e){var t=this,n=1,r=1;return e.forEach(function(e){e.label?(e.label.startsWith(t.fillColorLabel+n)&&(n+=1),e.label.startsWith(t.lineColorLabel+r)&&(r+=1)):(e.style.fillColor&&(e.label=t.fillColorLabel+n,n+=1),e.style.lineColor&&(e.label=t.lineColorLabel+r,r+=1))}),e},e.prototype.getApplyData=function(e,t){var n={},r=Object(a.clone)(t.item),o=r.id;return delete r.id,r.style.fillColor&&(r.style.fillColor=t.change.value),r.style.lineColor&&(r.style.lineColor=t.change.value),n[o]=r,Object(i.a)({styleDefinition:n})},e}()},CDjw:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r,i=n("LoAr"),a=n("nsO7"),o=n("rTjB"),s=n("mzLc"),l=n("1hm4"),c=n("OYno"),u=n("XQl3"),p=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t){var n=e.call(this,{text:t.text,value:t.value,disabled:t.disabled,checked:t.checked,collapsed:t.collapsed,children:t.children})||this;return n.refItem=t,n}return p(t,e),t.prototype.updateRefChecked=function(){this.children.forEach(function(e){e instanceof t&&e.updateRefChecked()});var e=this.checked;if(e)for(var n=0,r=this.refItem.children;n<r.length;n++){if(!r[n].checked){e=!1;break}}this.refItem.checked=e},t}(s.a),f=function(){function e(e,t,n){this.i18n=e,this.defaultConfig=t,this.eventParser=n,this.selectedChange=new i.q,this.filterChange=new i.q,this.filterText="",this.config=this.defaultConfig,this.allItem=new s.a({text:"All",value:void 0}),this.createHeaderTemplateContext()}return Object.defineProperty(e.prototype,"hasFilterItems",{get:function(){return!Object(a.isNil)(this.filterItems)&&this.filterItems.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return""+this.config.maxHeight},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=e.items;Object(a.isNil)(t)||Object(a.isNil)(this.items)||(this.updateFilterItems(),this.updateCollapsedOfAll(),this.raiseSelectedChange()),this.createHeaderTemplateContext()},e.prototype.onAllCollapseExpand=function(){var e=this;this.allItem.collapsed=!this.allItem.collapsed,this.filterItems.forEach(function(t){return t.setCollapsedRecursive(e.allItem.collapsed)})},e.prototype.onFilterTextChange=function(e){this.filterText=e,this.filterChange.emit(e),this.updateFilterItems()},e.prototype.onAllCheckedChange=function(){var e=this.allItem.checked;this.filterItems.forEach(function(t){t.setCheckedRecursive(e),t instanceof d&&t.updateRefChecked()}),this.raiseSelectedChange()},e.prototype.onItemCheckedChange=function(e,t){var n=this;e instanceof d&&e.updateRefChecked(),this.items.forEach(function(e){n.recursiveCheckItems(e,t)}),this.updateCheckedOfAll(),this.raiseSelectedChange()},e.prototype.raiseSelectedChange=function(){this.generateSelection();var e=this.eventParser.getSelectedChange(this);this.selectedChange.emit(e)},e.prototype.recursiveCheckItems=function(e,t){var n=this;e.children?e.children.forEach(function(e){n.recursiveCheckItems(e,t)}):e.value===t.value&&(e.checked=t.isChecked)},e.prototype.createHeaderTemplateContext=function(){var e=this;this.headerTemplateContext={config:this.config,item:this.allItem,onCheckedChange:function(){return e.onAllCheckedChange()},onCollapseExpand:function(){return e.onAllCollapseExpand()},onFilterTextChange:function(t){return e.onFilterTextChange(t)}}},e.prototype.generateSelection=function(){var e=[],t=[];if(!Object(a.isNil)(this.items)){var n=u.a.concatSelection(this.items,e,t);e=n.checked,t=n.unchecked}this.selection={checkedItems:e,uncheckedItems:t}},e.prototype.updateFilterItems=function(){var e=this;if(""!==this.filterText){var t=[],n=this.filterText.toLowerCase();this.items.forEach(function(r){var i=e.filterItem(r,n);Object(a.isNil)(i)||t.push(i)}),this.filterItems=t}else this.filterItems=this.items;this.updateCheckedOfAll()},e.prototype.filterItem=function(e,t){var n=this;if(Object(a.includes)(e.text.toLowerCase(),t))return e;if(!Object(a.isNil)(e.children)){var r=[];if(e.children.forEach(function(e){var i=n.filterItem(e,t);Object(a.isNil)(i)||r.push(i)}),r.length>0){var i=new d(e);return i.collapsed=!1,i.children=r,i}}},e.prototype.updateCheckedOfAll=function(){for(var e=null,t=0,n=this.filterItems;t<n.length;t++){var r=n[t];if(null===e)e=r.checked;else if(e!==r.checked){e=void 0;break}}null===e&&(e=!1),this.allItem.checked=e},e.prototype.updateCollapsedOfAll=function(){for(var e=!1,t=0,n=this.filterItems;t<n.length;t++){if(!n[t].collapsed){e=!0;break}}this.allItem.collapsed=!e},e.decorators=[{type:i.k,args:[{selector:"ngx-treeview",template:'\n      <ng-template #defaultItemTemplate let-item="item" let-onCollapseExpand="onCollapseExpand" let-onCheckedChange="onCheckedChange">\n        <div class="form-inline row-item">\n          <i *ngIf="item.children" (click)="onCollapseExpand()" aria-hidden="true" class="fa" [class.fa-caret-right]="item.collapsed"\n            [class.fa-caret-down]="!item.collapsed"></i>\n          <div class="form-check form-input-wrapper">\n            <input type="checkbox" class="form-check-input" [(ngModel)]="item.checked" (ngModelChange)="onCheckedChange()"\n              [disabled]="item.disabled" [indeterminate]="item.indeterminate" />\n              <span class="form-custom-checkbox"></span>\n              <label class="form-check-label" (click)="!item.disableItemCheck && (item.checked = !item.checked); !item.disableChildrenCheck && onCheckedChange(); onCollapseExpand()">\n                {{item.text}}\n              </label>\n          </div>\n        </div>\n      </ng-template>\n      <ng-template #defaultHeaderTemplate let-config="config" let-item="item" let-onCollapseExpand="onCollapseExpand"\n        let-onCheckedChange="onCheckedChange" let-onFilterTextChange="onFilterTextChange">\n        <div *ngIf="config.hasFilter" class="row row-filter">\n          <div class="col-12">\n            <input class="form-control" type="text" [placeholder]="i18n.getFilterPlaceholder()" [(ngModel)]="filterText"\n              (ngModelChange)="onFilterTextChange($event)" />\n          </div>\n        </div>\n        <div *ngIf="hasFilterItems">\n          <div *ngIf="config.hasAllCheckBox || config.hasCollapseExpand" class="row row-all">\n            <div class="col-12">\n              <div class="form-check form-check-inline" *ngIf="config.hasAllCheckBox">\n                <input type="checkbox" class="form-check-input" [(ngModel)]="item.checked" (ngModelChange)="onCheckedChange()"\n                  [indeterminate]="item.indeterminate" />\n                <label class="form-check-label" (click)="item.checked = !item.checked; onCheckedChange()">\n                  {{i18n.getAllCheckboxText()}}\n                </label>\n              </div>\n              <label *ngIf="config.hasCollapseExpand" class="pull-right form-check-label" (click)="onCollapseExpand()">\n                <i [title]="i18n.getTooltipCollapseExpandText(item.collapsed)" aria-hidden="true" class="fa"\n                  [class.fa-expand]="item.collapsed" [class.fa-compress]="!item.collapsed"></i>\n              </label>\n            </div>\n          </div>\n          <div *ngIf="config.hasDivider" class="dropdown-divider"></div>\n        </div>\n      </ng-template>\n      <div class="treeview-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate || defaultHeaderTemplate" [ngTemplateOutletContext]="headerTemplateContext">\n        </ng-template>\n      </div>\n      <div [ngSwitch]="hasFilterItems">\n        <div *ngSwitchCase="true" class="treeview-container" [style.max-height.px]="maxHeight">\n          <ngx-treeview-item *ngFor="let item of filterItems" [config]="config" [item]="item" [template]="itemTemplate || defaultItemTemplate"\n            (checkedChange)="onItemCheckedChange(item, $event)">\n          </ngx-treeview-item>\n        </div>\n        <div *ngSwitchCase="false" class="treeview-text">\n          {{i18n.getFilterNoItemsFoundText()}}\n        </div>\n      </div>\n    ',styles:["\n      :host /deep/ .treeview-header .row-filter {\n        margin-bottom: .5rem;\n      }\n\n      :host /deep/ .treeview-header .row-all .fa {\n        cursor: pointer;\n      }\n\n      :host /deep/ .treeview-container .row-item {\n        margin-bottom: .3rem;\n        flex-wrap: nowrap;\n      }\n\n      :host /deep/ .treeview-container .row-item .fa {\n        width: .8rem;\n        cursor: pointer;\n        margin-right: .3rem;\n      }\n\n      .treeview-container {\n        overflow-y: auto;\n        padding-right: .3rem;\n      }\n\n      .treeview-text {\n        padding: .3rem 0;\n        white-space: nowrap;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:o.a},{type:l.a},{type:c.b}]},e.propDecorators={headerTemplate:[{type:i.y}],itemTemplate:[{type:i.y}],items:[{type:i.y}],config:[{type:i.y}],selectedChange:[{type:i.J}],filterChange:[{type:i.J}]},e}()},CpzQ:function(e,t,n){"use strict";var r=n("LoAr"),i=n("IfiR"),a=n("WT9V"),o=n("B33Y"),s=function(){function e(e){this.dropdown=e}return e.decorators=[{type:r.n,args:[{selector:"[ngxDropdownMenu]",host:{"[class.dropdown-menu]":"true","[class.show]":"dropdown.isOpen"}}]}],e.ctorParameters=function(){return[{type:o.a}]},e}(),l=n("3ZiE"),c=n("MpAf"),u=n("CDjw"),p=n("OUJd"),d=n("YLIc"),f=n("rTjB"),h=n("1hm4"),g=n("OYno");n.d(t,"a",function(){return b});var b=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[h.a,{provide:f.a,useClass:f.b},{provide:g.b,useClass:g.a}]}},e.decorators=[{type:r.C,args:[{imports:[i.d,a.c],declarations:[u.a,p.a,d.a,o.a,s,l.a,c.a],exports:[u.a,d.a,c.a]}]}],e}()},Di8k:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("D57K"),i=(n("SBw3"),n("5xGT"),n("pN2L")),a=(n("QoSw"),n("Jg5f")),o=function(){function e(e,t,n){this.ll=e,this.state=t,this.featureList=n}return Object.defineProperty(e.prototype,"locator",{get:function(){return this.ll.forCurrent(!1)},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(e){var t=this;return this.locator.getDiagramOnce().pipe(Object(a.a)(function(n){var i,a,o=t.state.get("Selected"),s=!1;try{for(var l=r.k(o),c=l.next();!c.done;c=l.next()){var u=c.value;if(!n.shapes[u].showBumps){s=!1;break}s=!0}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return"showConnectorBumps"===e?!s:"hideConnectorBumps"===e&&s}))},e.prototype.getFeatureData=function(e,t){return void 0===t&&(t={}),Object(i.a)(t)},e.prototype.getApplyData=function(e,t){return Object(i.a)({})},e}()},IU0J:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},LZFb:function(e,t,n){"use strict";var r=n("D57K"),i=n("5xGT"),a=n("d9YI"),o=function(e){function t(t,n){var r=e.call(this)||this;return r.auth=t,r.random=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["IProjectCommand","INeutrinoRestCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"dataDefinition",{get:function(){return{id:!1,createdTime:!1,name:!1,type:!1}},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){this.data||(this.data={}),this.data.id||(this.data.id=this.random.diagramId()),this.data.createdTime||(this.data.createdTime=Date.now()),this.data.name||(this.data.name="Untitled Document"),this.data.type||(this.data.type="diagram/def/block.js#Block"),this.data.auth=this.auth.token,this.data.rid=this.resourceId},t.prototype.execute=function(){return Object(a.b)()},Object.defineProperty(t,"resultType",{get:function(){return{result:Object}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpUrl",{get:function(){throw new Error("Must be implemented in concrete create diagram command")},enumerable:!0,configurable:!0}),t}(i.d),s=n("4y1S"),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.auth=t,r.random=n,r}return r.d(t,e),Object.defineProperty(t.prototype,"httpUrl",{get:function(){return i.h.get("REST_API_BASE_URL")+"/"+i.h.get("MESSAGE_PROTOCOL_VERSION")+"/1/project/create-diagram-private"},enumerable:!0,configurable:!0}),t=r.c([Object(i.l)(),r.f("design:paramtypes",[s.a,i.O])],t)}(o);Object.defineProperty(l,"name",{value:"CreateDiagramPrivate"});var c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.auth=t,r.random=n,r}return r.d(t,e),Object.defineProperty(t.prototype,"httpUrl",{get:function(){return i.h.get("REST_API_BASE_URL")+"/"+i.h.get("MESSAGE_PROTOCOL_VERSION")+"/1/project/create-diagram-public"},enumerable:!0,configurable:!0}),t=r.c([Object(i.l)(),r.f("design:paramtypes",[s.a,i.O])],t)}(o);Object.defineProperty(c,"name",{value:"CreateDiagramPublic"});var u=n("xnGY"),p=n("ktZS"),d=n("hX56"),f=n("AouM"),h=n("U3QC"),g=n("Jg5f"),b=n("z5yO"),m=n("G2Mx"),v=n("oyCe"),y=n("Jzy8"),w=n("981U"),C=n("JpoA"),x=function(e){function t(t,n,r){var i=e.call(this)||this;return i.modelSubManager=t,i.dataStore=n,i.router=r,i}return r.d(t,e),t.prototype.execute=function(){var e=this;if(this.data&&this.data.templateId){var t=this.data.templateId;return this.resultData={},this.isDiagramInStorage(t).pipe(Object(f.a)(function(n){return e.startDiagramSubscription(t).pipe(Object(f.a)(function(r){return r.subStatus!==u.e.errored?e.getDiagram(t).pipe(Object(h.a)({next:function(t){e.resultData.templateData=t},complete:function(){n||e.dataStore.remove(y.f,{id:t})}})):(e.navigateToError(t,r.error),Object(C.a)(new Error("There was an error fetching template data")))}))}))}},t.prototype.isDiagramInStorage=function(e){return this.getDiagram(e).pipe(Object(g.a)(function(e){return!!e}))},t.prototype.startDiagramSubscription=function(e){return this.modelSubManager.start(p.a,e).pipe(Object(f.a)(function(e){return e.status}),Object(b.a)(function(e){return e.subStatus!==u.e.created}),Object(m.a)(1))},t.prototype.getDiagram=function(e){return this.dataStore.findOneRaw(v.a,{id:e}).pipe(Object(m.a)(1))},t.prototype.navigateToError=function(e,t){1202===t.code||1203===t.code?this.router.navigateByUrl(e+"/view-permission-error"):this.router.navigateByUrl(e+"/diagram-error")},t=r.c([Object(i.l)(),r.f("design:paramtypes",[u.d,d.b,w.m])],t)}(i.a);Object.defineProperty(x,"name",{value:"GetTemplateData"}),n.d(t,"a",function(){return S});var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.registerCreateDiagramPrivate=function(e){var t=this;e.mapSequence(this.createDiagramPrivate).add(x).add(l,{transform:function(e){return t.transformDataForCreate(e)}})},t.registerCreateDiagramPublic=function(e){var t=this;e.mapSequence(this.createDiagramPublic).add(x).add(c,{transform:function(e){return t.transformDataForCreate(e)}})},t.transformDataForCreate=function(e){var t=e.data[0];if(e.resultData&&e.resultData[0]){var n=e.resultData[0].templateData;n&&(t.shapes=n.shapes,t.type=n.type)}return delete t.templateId,t},t.createDiagramPrivate=new t("CreateDiagramPrivate"),t.createDiagramPublic=new t("CreateDiagramPublic"),t}(i.g)},Ldd8:function(e,t,n){var r=n("Qzo2");e.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var i,a,o,s,l=e[0].length,c=e.length*l;t&&"string"!=typeof t||(t=new(r(t||"float32"))(c+n));var u=t.length-n;if(c!==u)throw new Error("source length "+c+" ("+l+"x"+e.length+") does not match destination length "+u);for(i=0,o=n;i<e.length;i++)for(a=0;a<l;a++)t[o++]=null===e[i][a]?NaN:e[i][a]}else if(t&&"string"!=typeof t)t.set(e,n);else{var p=r(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new p(e.length+n),i=0,o=n,s=t.length;o<s;o++,i++)t[o]=null===e[i]?NaN:e[i];else 0===n?t=new p(e):(t=new p(e.length+n)).set(e,n)}return t}},LyVN:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[".custom-option[_ngcontent-%COMP%]  li:last-child{border-bottom:1px solid #dcdcdc}.shape-search-dropdown[_ngcontent-%COMP%]  .abs-dropdown-items-container{width:195px;padding-top:15px}.shape-search-dropdown[_ngcontent-%COMP%]  .abs-dropdown-items-container .ps-content{padding:0}.shape-search-browse-more-btn[_ngcontent-%COMP%]{width:100%}"]},MpAf:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("LoAr"),i=n("rTjB"),a=n("1hm4"),o=n("CDjw"),s=n("B33Y"),l=function(){function e(e,t){this.i18n=e,this.defaultConfig=t,this.buttonClass="btn-outline-secondary",this.selectedChange=new r.q(!0),this.filterChange=new r.q,this.config=this.defaultConfig}return e.prototype.getText=function(){return this.i18n.getText(this.treeviewComponent.selection)},e.prototype.onSelectedChange=function(e){this.selectedChange.emit(e)},e.prototype.onFilterChange=function(e){this.filterChange.emit(e)},e.decorators=[{type:r.k,args:[{selector:"ngx-dropdown-treeview",template:'\n      <div class="dropdown" ngxDropdown>\n        <button class="btn" [ngClass]="buttonClass" type="button" role="button" ngxDropdownToggle>\n          {{getText()}}\n        </button>\n        <div ngxDropdownMenu aria-labelledby="dropdownMenu" (click)="$event.stopPropagation()">\n          <div class="dropdown-container">\n            <ngx-treeview [config]="config" [headerTemplate]="headerTemplate" [items]="items" [itemTemplate]="itemTemplate" (selectedChange)="onSelectedChange($event)"\n              (filterChange)="onFilterChange($event)">\n            </ngx-treeview>\n          </div>\n        </div>\n      </div>\n    ',styles:["\n      .dropdown {\n        width: 100%;\n        display: inline-block;\n      }\n\n      .dropdown button {\n        width: 100%;\n        margin-right: .9rem;\n        text-align: left;\n        overflow: hidden;\n        padding-right: 30px;\n        text-overflow: ellipsis;\n      }\n\n      .dropdown button::after {\n        position: absolute;\n        right: .6rem;\n        margin-top: .6rem;\n      }\n\n      .dropdown .dropdown-menu .dropdown-container {\n        padding: 0 .6rem;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:i.a},{type:a.a}]},e.propDecorators={buttonClass:[{type:r.y}],headerTemplate:[{type:r.y}],itemTemplate:[{type:r.y}],items:[{type:r.y}],config:[{type:r.y}],selectedChange:[{type:r.J}],filterChange:[{type:r.J}],treeviewComponent:[{type:r.cb,args:[o.a]}],dropdownDirective:[{type:r.cb,args:[s.a]}]},e}()},OUJd:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("LoAr"),i=n("nsO7"),a=(n("mzLc"),n("1hm4")),o=function(){function e(e){var t=this;this.defaultConfig=e,this.checkedChange=new r.q,this.onCollapseExpand=function(){t.item.collapsed=!t.item.collapsed},this.onCheckedChange=function(){var e=t.item.checked;Object(i.isNil)(t.item.children)||t.config.decoupleChildFromParent||t.item.children.forEach(function(t){return t.setCheckedRecursive(e)}),t.checkedChange.emit({value:t.item.value,isChecked:e})},this.config=this.defaultConfig}return e.prototype.onChildCheckedChange=function(e,t){if(!this.config.decoupleChildFromParent){for(var n=null,r=0,i=this.item.children;r<i.length;r++){var a=i[r];if(null===n)n=a.checked;else if(n!==a.checked){n=void 0;break}}null===n&&(n=!1),this.item.checked!==n&&(this.item.checked=n)}this.checkedChange.emit(t)},e.decorators=[{type:r.k,args:[{selector:"ngx-treeview-item",template:'\n      <div *ngIf="item" class="treeview-item">\n          <ng-template [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{item: item, onCollapseExpand: onCollapseExpand, onCheckedChange: onCheckedChange}">\n          </ng-template>\n          <div *ngIf="!item.collapsed">\n              <ngx-treeview-item [config]="config" *ngFor="let child of item.children" [item]="child" [template]="template" (checkedChange)="onChildCheckedChange(child, $event)">\n              </ngx-treeview-item>\n          </div>\n      </div>\n    ',styles:["\n      :host {\n        display: block;\n      }\n\n      :host .treeview-item {\n        white-space: nowrap;\n      }\n\n      :host .treeview-item .treeview-item {\n        margin-left: 2rem;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:a.a}]},e.propDecorators={config:[{type:r.y}],template:[{type:r.y}],item:[{type:r.y}],checkedChange:[{type:r.J}]},e}()},OYno:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r,i=n("LoAr"),a=n("nsO7"),o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){function e(){}return e.decorators=[{type:i.v}],e}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSelectedChange=function(e){var t=e.selection.checkedItems;return Object(a.isNil)(t)?[]:t.map(function(e){return e.value})},t.decorators=[{type:i.v}],t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSelectedChange=function(e){var t=this,n=e.items;if(!Object(a.isNil)(n)){var r=[];return n.forEach(function(e){var n=t.getLinks(e,null);Object(a.isNil)(n)||(r=r.concat(n))}),r}return[]},t.prototype.getLinks=function(e,t){var n=this;if(!Object(a.isNil)(e.children)){var r={item:e,parent:t},i=[];return e.children.forEach(function(e){var t=n.getLinks(e,r);Object(a.isNil)(t)||(i=i.concat(t))}),i}return e.checked?[{item:e,parent:t}]:null},t.decorators=[{type:i.v}],t}(s);!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentDownlines=[],t.parser=new c,t}o(t,e),t.prototype.getSelectedChange=function(e){var t=this.parser.getSelectedChange(e);if(0===this.currentDownlines.length)this.currentDownlines=t;else{var n=[];this.currentDownlines.forEach(function(e){for(var r=-1,i=t.length,a=0;a<i;a++)if(e.item.value===t[a].item.value){r=a;break}-1!==r&&(n.push(t[r]),t.splice(r,1))}),this.currentDownlines=n.concat(t)}return this.currentDownlines},t.decorators=[{type:i.v}]}(s)},PGgW:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("D57K"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t}(n("hSRu").a)},Qzo2:function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},RMc3:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("D57K"),i=n("5xGT"),a=n("LiEJ"),o=n("fQLH"),s=n("gQst"),l=n("cQOC"),c=n("pN2L"),u=n("D3kC"),p=n("4+fs"),d=n("Jg5f"),f=n("lqvn"),h=n("AouM"),g=n("AqJ0"),b=(n("QoSw"),n("c7W3")),m=(n("cOhl"),n("w5Uk"),function(){function e(e,t,n,r,i){var s=this;this.loader=e,this.state=t,this.ll=n,this.commandService=r,this.translate=i,this.previewState=!1,this.shapesSelected=new a.a(!1),this.subs=[],this.styleChange=new o.a,this.selectedStyleId=this.getSelectedStyleID().pipe(Object(u.a)(1),Object(p.a)());var l=this.state.changes("Selected").pipe(Object(d.a)(function(e){return e&&e.length>0}),Object(f.a)()).subscribe(function(e){s.shapesSelected.next(e)});this.subs.push(l)}return Object.defineProperty(e,"openForContextAware",{get:function(){return"atLeastOne"},enumerable:!0,configurable:!0}),e.prototype.onActive=function(){i.bb.track("right.styles.panel.click",{value1Type:"status",value1:"open"})},e.prototype.onInactive=function(){i.bb.track("right.styles.panel.click",{value1Type:"status",value1:"close"})},Object.defineProperty(e.prototype,"id",{get:function(){return"style"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return"styles"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this.translate.instant("TOOLTIPS.DIAGRAM_STYLE")},enumerable:!0,configurable:!0}),e.prototype.getSelectedStyleID=function(){var e=this;return Object(s.a)(this.state.changes("Selected").pipe(Object(h.a)(function(t){return e.getDistinctShapeStyles(t).pipe(Object(d.a)(function(t){if(1===t.length&&e.loader.getStyle(t[0]))return t[0]}))})),this.styleChange)},e.prototype.getDistinctShapeStyles=function(e){var t=this;return e&&e.length>0?l.a.apply(void 0,r.j(e.map(function(e){return t.ll.forCurrent(!1).getShapeOnce(e)}))).pipe(Object(d.a)(function(e){return e.reduce(function(e,t){if(t&&t.style){var n=t.style.styleId;e.includes(n)||e.push(n)}return e},[])})):Object(c.a)([])},e.prototype.ngOnInit=function(){this.tileStyles=this.getStylePalette()},e.prototype.getPaletteType=function(){var e=this;return this.state.changes("Selected").pipe(Object(h.a)(function(t){return e.ll.forCurrent(!1).getDiagramOnce().pipe(Object(d.a)(function(e){var n=e.getShapeTypes(t);return n&&1===n.length&&"connector"===n[0]?"connector":"anything"}),Object(f.a)())}))},e.prototype.getStylePalette=function(){var e=this;return this.getPaletteType().pipe(Object(h.a)(function(t){return"connector"===t?e.loader.getLinePalattes().pipe(Object(d.a)(function(e){return{type:"connector",palettes:e}})):e.loader.getPalattes().pipe(Object(d.a)(function(e){return{type:"anything",palettes:e}}))}),Object(g.a)(1))},e.prototype.previewTileStyles=function(e){this.previewState=!0,this.commandService.dispatch(b.a.resetDiagramPreview),this.commandService.preview(b.a.applyShapeStyle,{style:e,format:this.getTextFormat(e.textColor),reset:!1})},e.prototype.setTileStyles=function(e){var t=this;i.bb.track("right.styles.swatch.click",{value1Type:"styleId",value1:e.styleId}),this.commandService.dispatch(b.a.applyShapeStyle,{style:e,format:this.getTextFormat(e.textColor),reset:!1}).subscribe(function(n){n.status&&"UnsavedModelChangeExecutionStep"===n.stepName&&t.styleChange.next(e.styleId)})},e.prototype.getTextFormat=function(e){return{indexStart:0,indexEnd:void 0,styles:{color:e}}},e.prototype.resetTilePreview=function(){this.previewState&&(this.commandService.dispatch(b.a.resetDiagramPreview),this.previewState=!1)},e.prototype.ngOnDestroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe()},e}())},X5Q9:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("LiEJ"),i=n("fQLH"),a=n("d9YI"),o=n("pN2L"),s=(n("NNJu"),function(){function e(){this._data=new r.a(null),this.styleType=new r.a(null),this.styles=new r.a(null),this.change=new i.a}return e.prototype.ngAfterViewInit=function(){var e=this;this.absDropdown.changed.subscribe(function(t){var n=e.data.documentStyles.find(function(e){return e.style.id===t[0]});n?e.change.next(n.style):e.change.next(e.styles.getValue().find(function(e){return e.id===t[0]}))})},e.prototype.setData=function(e){this.data=e,this._data.next(e),this.styles.next(this.data.palettes[0].palette.styles),this.styleType.next(null)},e.prototype.apply=function(){},e.prototype.applyAnimated=function(){return Object(a.b)()},e.prototype.setProperties=function(e){this.props=e},e.prototype.getIconHref=function(e){return"./assets/icons/symbol-defs.svg#nu-ic-"+e},e.prototype.handleOnclickIcon=function(e){this.styleType.next(e),this.styles.next(this.data.palettes.find(function(t){return t.id===e}).palette.styles)},e.prototype.getStyleType=function(){return this.styleType.getValue()||2!==this.data.palettes.length?this.styleType.getValue()||3!==this.data.palettes.length?this.styleType:Object(o.a)("fillColor"):Object(o.a)("lineColor")},e}())},XQl3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("nsO7"),i={findItem:a,findItemInList:function(e,t){if(Object(r.isNil)(e))return;for(var n=0,i=e;n<i.length;n++){var o=i[n],s=a(o,t);if(s)return s}return},findParent:o,removeItem:function(e,t){var n=o(e,t);if(n)return Object(r.pull)(n.children,t),0===n.children.length?n.children=void 0:n.correctChecked(),!0;return!1},concatSelection:function(e,t,n){for(var i=t.slice(),a=n.slice(),o=0,s=e;o<s.length;o++){var l=s[o],c=l.getSelection();i=Object(r.concat)(i,c.checkedItems),a=Object(r.concat)(a,c.uncheckedItems)}return{checked:i,unchecked:a}}};function a(e,t){if(!Object(r.isNil)(e)){if(e.value===t)return e;if(e.children)for(var n=0,i=e.children;n<i.length;n++){var o=a(i[n],t);if(o)return o}}}function o(e,t){if(!Object(r.isNil)(e)&&!Object(r.isNil)(e.children))for(var n=0,i=e.children;n<i.length;n++){var a=i[n];if(a===t)return e;var s=o(a,t);if(s)return s}}},XWWj:function(e,t,n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){var e="undefined"==typeof window,t=new Map,n=new Map,r=[];r.total=0;var i=[],a=[];function o(){t.clear(),n.clear(),i=[],a=[]}function s(e){for(var t=-9007199254740991,n=e.length-1;n>=0;--n){var r=e[n];if(null!==r){var i=r.score;i>t&&(t=i)}}return-9007199254740991===t?null:t}function l(e,t){var n=e[t];if(void 0!==n)return n;var r=t;Array.isArray(t)||(r=t.split("."));for(var i=r.length,a=-1;e&&++a<i;)e=e[r[a]];return e}function c(e){return"object"==typeof e}var u=function(){var e=[],t=0,n={};function r(){for(var n=0,r=e[n],i=1;i<t;){var a=i+1;n=i,a<t&&e[a].score<e[i].score&&(n=a),e[n-1>>1]=e[n],i=1+(n<<1)}for(var o=n-1>>1;n>0&&r.score<e[o].score;o=(n=o)-1>>1)e[n]=e[o];e[n]=r}return n.add=function(n){var r=t;e[t++]=n;for(var i=r-1>>1;r>0&&n.score<e[i].score;i=(r=i)-1>>1)e[r]=e[i];e[r]=n},n.poll=function(){if(0!==t){var n=e[0];return e[0]=e[--t],r(),n}},n.peek=function(n){if(0!==t)return e[0]},n.replaceTop=function(t){e[0]=t,r()},n},p=u();return function d(f){var h={single:function(e,t,n){if(!e)return null;if(c(e)||(e=h.getPreparedSearch(e)),!t)return null;c(t)||(t=h.getPrepared(t));var r=n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo,i=r?h.algorithm:h.algorithmNoTypo;return i(e,t,e[0])},go:function(e,t,n){if(!e)return r;var i=(e=h.prepareSearch(e))[0],a=n&&n.threshold||f&&f.threshold||-9007199254740991,o=n&&n.limit||f&&f.limit||9007199254740991,u=n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo,d=u?h.algorithm:h.algorithmNoTypo,g=0,b=0,m=t.length;if(n&&n.keys)for(var v=n.scoreFn||s,y=n.keys,w=y.length,C=m-1;C>=0;--C){for(var x=t[C],S=new Array(w),F=w-1;F>=0;--F){var O=y[F],D=l(x,O);D?(c(D)||(D=h.getPrepared(D)),S[F]=d(e,D,i)):S[F]=null}S.obj=x;var j=v(S);null!==j&&(j<a||(S.score=j,g<o?(p.add(S),++g):(++b,j>p.peek().score&&p.replaceTop(S))))}else if(n&&n.key)for(var O=n.key,C=m-1;C>=0;--C){var x=t[C],D=l(x,O);if(D){c(D)||(D=h.getPrepared(D));var A=d(e,D,i);null!==A&&(A.score<a||(A={target:A.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:A.score,indexes:A.indexes,obj:x},g<o?(p.add(A),++g):(++b,A.score>p.peek().score&&p.replaceTop(A))))}}else for(var C=m-1;C>=0;--C){var D=t[C];if(D){c(D)||(D=h.getPrepared(D));var A=d(e,D,i);null!==A&&(A.score<a||(g<o?(p.add(A),++g):(++b,A.score>p.peek().score&&p.replaceTop(A))))}}if(0===g)return r;for(var I=new Array(g),C=g-1;C>=0;--C)I[C]=p.poll();return I.total=g+b,I},goAsync:function(t,n,i){var a=!1,o=new Promise(function(o,p){if(!t)return o(r);var d=(t=h.prepareSearch(t))[0],g=u(),b=n.length-1,m=i&&i.threshold||f&&f.threshold||-9007199254740991,v=i&&i.limit||f&&f.limit||9007199254740991,y=i&&void 0!==i.allowTypo?i.allowTypo:!f||void 0===f.allowTypo||f.allowTypo,w=y?h.algorithm:h.algorithmNoTypo,C=0,x=0;function S(){if(a)return p("canceled");var u=Date.now();if(i&&i.keys)for(var f=i.scoreFn||s,y=i.keys,F=y.length;b>=0;--b){for(var O=n[b],D=new Array(F),j=F-1;j>=0;--j){var A=y[j],I=l(O,A);I?(c(I)||(I=h.getPrepared(I)),D[j]=w(t,I,d)):D[j]=null}D.obj=O;var k=f(D);if(null!==k&&!(k<m)&&(D.score=k,C<v?(g.add(D),++C):(++x,k>g.peek().score&&g.replaceTop(D)),b%1e3==0&&Date.now()-u>=10))return void(e?setImmediate(S):setTimeout(S))}else if(i&&i.key)for(var A=i.key;b>=0;--b){var O=n[b],I=l(O,A);if(I){c(I)||(I=h.getPrepared(I));var E=w(t,I,d);if(null!==E&&!(E.score<m)&&(E={target:E.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:E.score,indexes:E.indexes,obj:O},C<v?(g.add(E),++C):(++x,E.score>g.peek().score&&g.replaceTop(E)),b%1e3==0&&Date.now()-u>=10))return void(e?setImmediate(S):setTimeout(S))}}else for(;b>=0;--b){var I=n[b];if(I){c(I)||(I=h.getPrepared(I));var E=w(t,I,d);if(null!==E&&!(E.score<m)&&(C<v?(g.add(E),++C):(++x,E.score>g.peek().score&&g.replaceTop(E)),b%1e3==0&&Date.now()-u>=10))return void(e?setImmediate(S):setTimeout(S))}}if(0===C)return o(r);for(var P=new Array(C),T=C-1;T>=0;--T)P[T]=g.poll();P.total=C+x,o(P)}e?setImmediate(S):S()});return o.cancel=function(){a=!0},o},highlight:function(e,t,n){if(null===e)return null;void 0===t&&(t="<b>"),void 0===n&&(n="</b>");for(var r="",i=0,a=!1,o=e.target,s=o.length,l=e.indexes,c=0;c<s;++c){var u=o[c];if(l[i]===c){if(a||(a=!0,r+=t),++i===l.length){r+=u+n+o.substr(c+1);break}}else a&&(a=!1,r+=n);r+=u}return r},prepare:function(e){if(e)return{target:e,_targetLowerCodes:h.prepareLowerCodes(e),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(e){if(e)return{target:e,_targetLowerCodes:h.prepareLowerCodes(e),_nextBeginningIndexes:h.prepareNextBeginningIndexes(e),score:null,indexes:null,obj:null}},prepareSearch:function(e){if(e)return h.prepareLowerCodes(e)},getPrepared:function(e){if(e.length>999)return h.prepare(e);var n=t.get(e);return void 0!==n?n:(n=h.prepare(e),t.set(e,n),n)},getPreparedSearch:function(e){if(e.length>999)return h.prepareSearch(e);var t=n.get(e);return void 0!==t?t:(t=h.prepareSearch(e),n.set(e,t),t)},algorithm:function(e,t,n){for(var r=t._targetLowerCodes,o=e.length,s=r.length,l=0,c=0,u=0,p=0;;){var d=n===r[c];if(d){if(i[p++]=c,++l===o)break;n=e[0===u?l:u===l?l+1:u===l-1?l-1:l]}if(++c>=s)for(;;){if(l<=1)return null;if(0===u){var f=e[--l];if(n===f)continue;u=l}else{if(1===u)return null;n=e[1+(l=--u)];var f=e[l];if(n===f)continue}c=i[(p=l)-1]+1;break}}var l=0,g=0,b=!1,m=0,v=t._nextBeginningIndexes;null===v&&(v=t._nextBeginningIndexes=h.prepareNextBeginningIndexes(t.target));var y=c=0===i[0]?0:v[i[0]-1];if(c!==s)for(;;)if(c>=s){if(l<=0){if(++g>o-2)break;if(e[g]===e[g+1])continue;c=y;continue}--l;var w=a[--m];c=v[w]}else{var d=e[0===g?l:g===l?l+1:g===l-1?l-1:l]===r[c];if(d){if(a[m++]=c,++l===o){b=!0;break}++c}else c=v[c]}if(b)var C=a,x=m;else var C=i,x=p;for(var S=0,F=-1,O=0;O<o;++O){var c=C[O];F!==c-1&&(S-=c),F=c}b?0!==g&&(S+=-20):(S*=1e3,0!==u&&(S+=-20)),S-=s-o,t.score=S,t.indexes=new Array(x);for(var O=x-1;O>=0;--O)t.indexes[O]=C[O];return t},algorithmNoTypo:function(e,t,n){for(var r=t._targetLowerCodes,o=e.length,s=r.length,l=0,c=0,u=0;;){var p=n===r[c];if(p){if(i[u++]=c,++l===o)break;n=e[l]}if(++c>=s)return null}var l=0,d=!1,f=0,g=t._nextBeginningIndexes;if(null===g&&(g=t._nextBeginningIndexes=h.prepareNextBeginningIndexes(t.target)),(c=0===i[0]?0:g[i[0]-1])!==s)for(;;)if(c>=s){if(l<=0)break;--l;var b=a[--f];c=g[b]}else{var p=e[l]===r[c];if(p){if(a[f++]=c,++l===o){d=!0;break}++c}else c=g[c]}if(d)var m=a,v=f;else var m=i,v=u;for(var y=0,w=-1,C=0;C<o;++C){var c=m[C];w!==c-1&&(y-=c),w=c}d||(y*=1e3),y-=s-o,t.score=y,t.indexes=new Array(v);for(var C=v-1;C>=0;--C)t.indexes[C]=m[C];return t},prepareLowerCodes:function(e){for(var t=e.length,n=[],r=e.toLowerCase(),i=0;i<t;++i)n[i]=r.charCodeAt(i);return n},prepareBeginningIndexes:function(e){for(var t=e.length,n=[],r=0,i=!1,a=!1,o=0;o<t;++o){var s=e.charCodeAt(o),l=s>=65&&s<=90,c=l||s>=97&&s<=122||s>=48&&s<=57,u=l&&!i||!a||!c;i=l,a=c,u&&(n[r++]=o)}return n},prepareNextBeginningIndexes:function(e){for(var t=e.length,n=h.prepareBeginningIndexes(e),r=[],i=n[0],a=0,o=0;o<t;++o)i>o?r[o]=i:(i=n[++a],r[o]=void 0===i?t:i);return r},cleanup:o,new:d};return h}()})?r.apply(t,i):r)||(e.exports=a)},YLIc:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("LoAr"),i=n("nsO7"),a=n("mzLc"),o=function(){function e(){}return e.prototype.transform=function(e,t){if(!Object(i.isNil)(e))return e.map(function(e){return new a.a({text:e[t],value:e})})},e.decorators=[{type:r.M,args:[{name:"ngxTreeview"}]}],e}()},ZC55:function(e,t,n){"use strict";var r=n("D57K"),i=(n("CpzQ"),n("CDjw"),n("YLIc"),n("mzLc")),a=n("1hm4"),o=(n("rTjB"),n("OYno"),n("XQl3"),n("3ZiE"),n("B33Y"),n("MpAf"),n("5xGT"),n("iim9")),s=n("G2Mx"),l=n("Jg5f"),c=n("LiEJ"),u=n("am9W"),p=n("nsO7"),d=function(){function e(){this.allLibraries=r.j([{id:"arrows",label:"Arrows",groups:["General"]},{id:"aws-analytics",label:"AWS Analytics",groups:["AWS"]},{id:"aws-app-integration",label:"AWS App Integration",groups:["AWS"]},{id:"aws-ar-vr",label:"AWS AR & VR",groups:["AWS"]},{id:"aws-blockchain",label:"AWS Blockchain",groups:["AWS"]},{id:"aws-business-applications",label:"AWS Business Applications",groups:["AWS"]},{id:"aws-cdn",label:"AWS CDN",groups:["AWS"]},{id:"aws-compute",label:"AWS Compute",groups:["AWS"]},{id:"aws-cost-management",label:"AWS Cost Management",groups:["AWS"]},{id:"aws-customer-engagement",label:"AWS Customer Engagement",groups:["AWS"]},{id:"aws-database",label:"AWS Database",groups:["AWS"]},{id:"aws-general",label:"AWS General",groups:["AWS"]},{id:"aws-governance",label:"AWS Governance",groups:["AWS"]},{id:"aws-group-icons",label:"AWS Group Icons",groups:["AWS"]},{id:"aws-iot",label:"AWS IOT",groups:["AWS"]},{id:"aws-media",label:"AWS Media",groups:["AWS"]},{id:"aws-ml",label:"AWS ML",groups:["AWS"]},{id:"aws-mobile",label:"AWS Mobile",groups:["AWS"]},{id:"aws-other",label:"AWS Other",groups:["AWS"]},{id:"aws-security",label:"AWS Security",groups:["AWS"]},{id:"aws-storage",label:"AWS Storage",groups:["AWS"]},{id:"block",label:"Block Shapes",groups:["General"]},{id:"chemistry-lab-equipment",label:"Chemistry Lab",groups:["Other"]},{id:"concept-map",label:"Concept Maps",groups:["Brainstorming","Business"]},{id:"database",label:"Database Diagram",groups:["Software"]},{id:"dfd-gs",label:"Data Flow Diagrams - GS",groups:["Software"]},{id:"dfd-yc",label:"Data Flow Diagrams - YC",groups:["Software"]},{id:"entity-relationship-cf",label:"Entity Relationship - Crows Foot",groups:["Software"]},{id:"entity-relationship-chens",label:"Entity Relationship - Chens",groups:["Software"]},{id:"flowchart",label:"Flowchart",groups:["Business","Software","Brainstorming"]},{id:"gantt",label:"Gantt Chart",groups:["Business"]},{id:"general",label:"Basic Shapes",groups:["General"]},{id:"grids-canvases",label:"Grids and Canvases",groups:["General"]},{id:"icons-education",label:"Icons - Education",groups:["Icons"]},{id:"icons-people-outlines",label:"Icons - People Outlines",groups:["Icons"]},{id:"icons-people",label:"Icons - People",groups:["Icons"]},{id:"infographics",label:"Infographics",groups:["Business"]},{id:"material-icons",label:"Icons - Material Design",groups:["Icons"]},{id:"mindmap",label:"Mindmaps",groups:["Brainstorming"]},{id:"network-rack",label:"Network Rack Shapes",groups:["IT & Networking"]},{id:"org-chart",label:"Organizational Charts",groups:["Business"]},{id:"simple-network",label:"Network Shapes",groups:["IT & Networking"]},{id:"site-map",label:"Site Maps and UX Flows",groups:["Software"]},{id:"stars-and-balloons",label:"Stars and Balloons",groups:["General"]},{id:"swot",label:"SWOT Diagrams",groups:["Brainstorming","Business"]},{id:"tqm",label:"Total Quality Management (TQM)",groups:["Business"]},{id:"ui-mockup",label:"UI Mockup",groups:["Software"]},{id:"uml-activity",label:"UML Activity",groups:["Software"]},{id:"uml-class",label:"UML Class",groups:["Software"]},{id:"uml-communication",label:"UML Communication",groups:["Software"]},{id:"uml-sequence",label:"UML Sequence",groups:["Software"]},{id:"uml-state-machine",label:"UML State Machine",groups:["Software"]},{id:"use-case",label:"UML Use Case",groups:["Software"]}],"stage"!==u.a.NAME&&"dev"!==u.a.NAME?[]:[{id:"experiments",label:"Experiments",groups:["Experiments"]}])}return e.prototype.getAllGroups=function(){var e=[];return this.allLibraries.map(function(t){t.groups.map(function(t){e.push(t)})}),Object(p.uniq)(e)},e.prototype.getLibrariesInGroup=function(e){return this.allLibraries.filter(function(t){return t.groups.includes(e)})},e}(),f=n("NNJu");n.d(t,"a",function(){return h});var h=function(e){function t(t,n){var r=e.call(this)||this;return r.state=t,r.modalController=n,r.config=a.a.create({hasAllCheckBox:!1,hasFilter:!1,hasCollapseExpand:!0,decoupleChildFromParent:!1,maxHeight:2e3}),r.subs=[],r.items=new c.a([]),r.libraryList=new d,r}return r.d(t,e),t.prototype.closeOnOverlayClick=function(e){var t=e.target.className;t&&"string"===typeof t&&t.includes("modal-window-container")&&this.closeWindow()},t.prototype.ngOnInit=function(){var e=this,t=this.showWindow(this.container,this.containerInner).subscribe();this.state.changes("CurrentLibraries").pipe(Object(s.a)(1),Object(l.a)(function(t){e.createTreeView(t.map(function(e){return e.id}))})).subscribe(),this.subs.push(t)},t.prototype.createTreeView=function(e){var t=this,n=[];this.libraryList.getAllGroups().forEach(function(r){var a=[],o=!0;t.libraryList.getLibrariesInGroup(r).map(function(n){a.push({text:n.label,value:n.id,checked:t.isLibrarySelected(n.id,e)}),o=o?!t.isLibrarySelected(n.id,e):o});var s=new i.a({text:r,value:r,children:a,collapsed:o,disableChildrenCheck:!0});s.correctChecked(),n.push(s)}),this.items.next(n)},t.prototype.isLibrarySelected=function(e,t){return t&&t.includes(e)},t.prototype.onSelectionChange=function(e){this.state.set("CurrentLibraries",e.map(function(e){return{id:e,type:o.b.Static}}))},t.prototype.closeWindow=function(){var e=this,t=this.hideWindow(this.container,this.containerInner).subscribe({complete:function(){e.modalController.hide()}});this.subs.push(t)},t.prototype.ngOnDestroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe()},t}(f.e)},ZyLw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this._textStyles=[],this.createTextStyles()}return e.prototype.createTextStyles=function(){this._textStyles=[{size:10},{size:13},{size:10,bold:!0},{size:13,bold:!0},{size:10,font:"open_sansitalic"},{size:13,font:"open_sansitalic"},{size:10,font:"courier_prime"},{size:10,font:"lt-hairline",bold:!0},{size:22,font:"champagne"},{size:13,font:"indie"},{size:18,font:"indie"},{size:12,font:"open_sanscondensed"},{size:14,font:"open_sanscondensed"},{size:10,font:"playfair"},{size:12,font:"bree"},{size:13,font:"bree"},{size:18,font:"bebas"},{size:10,font:"montserrat"},{size:10,font:"raleway"},{size:12,font:"spartan"}]},e.prototype.getTextStyles=function(){return this._textStyles},e}()},aSB4:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("pN2L"),i=(n("5xGT"),n("SBw3"),function(){function e(e,t){this.state=e,this.featureList=t}return e.prototype.getFeatureData=function(e){var t=this.featureList.getFeature(e);return Object(r.a)(t)},e.prototype.getApplyData=function(e){return Object(r.a)({connectorIds:[this.state.get("Selected")[0]]})},e}())},aSzn:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n("D57K"),i=n("LoAr"),a=n("5xGT"),o=n("g3Dv"),s=n("nsO7"),l=n("gQst"),c=n("pN2L"),u=n("cQOC"),p=n("d9YI"),d=n("AouM"),f=n("Jg5f"),h=n("W/Ou"),g=n("R+ki"),b=n("U3QC"),m=n("z5yO"),v=n("pday"),y=n("lqvn"),w=n("12aA"),C=n("cGAd"),x=n("w1VY"),S=n("QoSw"),F=n("flPR"),O=n("SBw3"),D=n("0fSw"),j=n("IGWl"),A=n("PGgW"),I=n("X5Q9"),k=function(e){function t(t,n,r,i,a,o,s){var l=e.call(this,i)||this;return l.injector=t,l.commandService=n,l.featureList=r,l.state=i,l.ll=a,l.toolbarManager=o,l.coordinate=s,l.modelChangeDebounce=100,l.subs=[],l}return r.d(t,e),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.toolbarManager.get("contextual-toolbar")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locator",{get:function(){return this.ll.forCurrent(!1)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var e=this;this.subs.push(this.listenToChanges().pipe(Object(d.a)(function(t){return e.getItemsForContextChange(t)}),Object(f.a)(function(t){return e.updateShowMethod(t)}),Object(d.a)(function(t){return e.handleContextChange(t)})).subscribe(),this.toolbar.change.subscribe(function(t){return e.handleToolbarChange(t)}))},t.prototype.listenToChanges=function(){var e=this;return this.listenToContextChange().pipe(Object(d.a)(function(t){return e.isShowAction(t.action)?Object(l.a)(e.listenToModelChange(),e.listenToGroupChanges()).pipe(Object(h.a)(t),Object(g.a)(e.modelChangeDebounce)):Object(c.a)(t)}))},t.prototype.listenToContextChange=function(){var e=this;return this.duringSelection().pipe(Object(d.a)(function(t){var n;return"show"===t.action?Object(l.a)(e.duringSelectionInteraction({action:"quickshow"},{action:"quickhide"}).pipe(Object(b.a)(function(t){return n=!e.isShowAction(t.action)})),e.duringTextEdit({action:"show"},{action:"hide"}).pipe(Object(b.a)(function(t){return n=!e.isShowAction(t.action)})),e.duringPan({action:"quickshow"},{action:"quickhide"}).pipe(Object(m.a)(function(){return!n}))):Object(c.a)(t)}),Object(v.a)(1),Object(y.a)(s.isEqual))},t.prototype.listenToGroupChanges=function(){return this.locator.getDiagramChanges().pipe(Object(m.a)(function(e){return a.K.hasChanges(e.modifier,"groups")}),Object(w.a)({action:"show"}))},t.prototype.listenToModelChange=function(){var e=this,t=this.state.get("Selected").map(function(t){return e.locator.getShapeModel(t).pipe(Object(C.a)(1),Object(w.a)({action:"quickshow"}))});return l.a.apply(void 0,r.j(t))},t.prototype.duringSelection=function(){return this.state.changes("Selected").pipe(Object(y.a)(s.isEqual),Object(f.a)(function(e){return!e||e&&0===e.length?{action:"hide"}:{action:"show"}}))},t.prototype.getItemsForContextChange=function(e){return this.isShowAction(e.action)?this.getToolbarItems().pipe(Object(f.a)(function(t){return e.items=t,e})):Object(c.a)(e)},t.prototype.handleContextChange=function(e){var t=this;switch(e.action){case"show":case"quickshow":return this.setToolbarItems(e.items).pipe(Object(d.a)(function(){return t.positionToolbar()}),Object(d.a)(function(){return t.toolbar.show()}));case"reshow":return this.setToolbarItems(e.items).pipe(Object(d.a)(function(){return t.toolbar.hide()}),Object(d.a)(function(){return t.positionToolbar()}),Object(d.a)(function(){return t.toolbar.show()}));case"hide":case"quickhide":return this.toolbar.hide()}return Object(c.a)({})},t.prototype.isShowAction=function(e){return"show"===e||"reshow"===e||"quickshow"===e},t.prototype.updateShowMethod=function(e){if(this.isShowAction(e.action)){if(!e.items||e.items&&0===e.items.length)return e.action="hide",e;"show"===e.action&&(e.action="reshow")}return e},t.prototype.setToolbarItems=function(e){var t=this,n=this.toolbar.itemIds,i=e?e.map(function(e){return e.featureId}):[],a=[];return n.filter(function(e){return-1===i.indexOf(e)}).forEach(function(e){t.toolbar.removeItem(e)}),n.filter(function(e){return i.indexOf(e)>-1}).forEach(function(n){var r=Object(s.find)(e,{featureId:n});a.push(t.updateToolbarItem(r))}),i.forEach(function(r,i){if(-1===n.indexOf(r)){var o=Object(s.find)(e,{featureId:r});a.push(t.addToolbarItem(o,i))}}),a.length>0?u.a.apply(void 0,r.j(a)):Object(c.a)({})},t.prototype.addToolbarItem=function(e,t){var n=this,r=this.featureList.getFeature(e.featureId),i=this.getUIControlType(r.dataType),a=this.getUIControlProperties(r);return this.getItemData(r,e.data).pipe(Object(f.a)(function(r){n.toolbar.addItem(e.featureId,i,r,a,t)}))},t.prototype.updateToolbarItem=function(e){var t=this,n=this.featureList.getFeature(e.featureId),r=this.getUIControlProperties(n);return this.getItemData(n,e.data).pipe(Object(f.a)(function(n){t.toolbar.updateItem(e.featureId,n,r)}))},t.prototype.positionToolbar=function(){var e=this;return this.locator.getDiagramOnce().pipe(Object(f.a)(function(t){var n=e.state.get("Selected"),r=t.getBounds(n),i=e.coordinate.x(r.x)+e.coordinate.width(r.width)/2,a=e.coordinate.y(r.y);a-=e.isPlusCreateAvailable(t,n)?30:15,e.toolbar.position({x:i,y:a},"bottomcenter")}))},t.prototype.isPlusCreateAvailable=function(e,t){return!(1!==t.length||!e.shapes[t[0]]||!e.shapes[t[0]].create)},t.prototype.handleToolbarChange=function(e){var t=this;a.bb.track("canvas.toolbar."+e.id+".change",{value1Type:"feature",value1:e.id,value2Type:"toolbar",value2:this.toolbar.id});var n=this.featureList.getFeature(e.id);if(n.transformer){var r=this.injector.get(n.transformer),i=Object(a.hb)(function(e){return t.commandService.dispatch(n.commandEvent,e)});r.getApplyData(e.data).subscribe(i)}else{var o=a.j.mergeInstances({},this.getCommandData(e.id),e.data);this.commandService.dispatch(n.commandEvent,o)}},t.prototype.getCommandData=function(e){var t={},n=this.toolbar.getItem(e);return n&&n.data&&(n.data.dataItemId&&(t.dataItems=[{id:n.data.dataItemId,value:n.data.value}]),n.data.alterFunction&&(t.alterFunction=n.data.alterFunction)),t},t.prototype.getToolbarItems=function(){var e=this,t=this.state.get("Selected");return t.length?(1===t.length?this.getToolbarItemsForSingleShape(t[0]):this.getToolbarItemsForMultiShape(t)).pipe(Object(d.a)(function(t){var n;return n=t.map(function(t){return e.isFeatureEnabled(t.featureId)}),u.a.apply(void 0,r.j(n)).pipe(Object(f.a)(function(e){return t.filter(function(t,n){return e[n]})}))})):Object(c.a)([])},t.prototype.isFeatureEnabled=function(e){var t=this.featureList.getFeature(e);if(t.transformer){var n=this.injector.get(t.transformer);if(n.isEnabled)return n.isEnabled(t.id)}return Object(c.a)(!0)},t.prototype.getToolbarItemsForSingleShape=function(e){return this.locator.getShapeOnce(e).pipe(Object(f.a)(function(e){return e.getContextualToolbarItems()}))},t.prototype.getToolbarItemsForMultiShape=function(e){return this.locator.getDiagramOnce().pipe(Object(f.a)(function(t){var n=Object(s.filter)(t.shapes,function(t){return e.includes(t.id)});if(t.sameType(e)){var i=n.map(function(e){return e.getContextualToolbarItemsForSameType()});return s.intersectionBy.apply(void 0,r.j(i,["featureId"]))}i=n.map(function(e){return e.getContextualToolbarItemsForMultipleTypes()});return s.intersectionBy.apply(void 0,r.j(i,["featureId"]))}))},t.prototype.getToolbarItemsForTextEdit=function(e){return Object(p.b)()},t.prototype.getItemData=function(e,t){if(e.transformer)return this.injector.get(e.transformer).getFeatureData(e.id,t);if(e.dataType===o.c.OPTION_IMAGES)throw new Error("Features with list type data items must have a transformer defined.");return t?Object(c.a)(a.j.mergeInstances({},e.data,t)):Object(c.a)(e.data)},t.prototype.getUIControlProperties=function(e){return{id:e.id,icon:e.icon,label:e.label,tooltip:e.tooltip}},t.prototype.getUIControlType=function(e){if(!e||e===o.c.BINARY)return j.a;if(e===o.c.OPTION_IMAGES||e===o.c.OPTION_LIST)return A.a;if(e===o.c.CUSTOM_STYLE_PALETTES)return I.a;throw new Error("A contextual toolbar UI control is not available for "+e)},t.prototype.destroy=function(){this.toolbar&&this.toolbar.hide().subscribe(),this.subs.forEach(function(e){e.unsubscribe()})},Object.defineProperty(t.prototype,"indicators",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.createAddSource=function(){return Object(p.b)()},t.prototype.createRemoveSource=function(){return Object(p.b)()},t.prototype.createChangeSource=function(){return Object(p.b)()},t=r.c([Object(F.a)(),r.f("design:paramtypes",[i.x,a.q,O.a,a.Z,S.a,D.a,x.a])],t)}(F.b);Object.defineProperty(k,"name",{value:"ContextualToolbarHandler"})},aT6q:function(e,t,n){"use strict";var r=n("LoAr"),i=n("7pFi"),a=n("YEP7"),o=n("pYIu");n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var s=[[".abs-dropdown-container[_ngcontent-%COMP%]{background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.abs-dropdown-items-container[_ngcontent-%COMP%]  .ps-content{padding:10px}.abs-dropdown-items-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:215px;border:1px solid #d8d8d8;border-radius:2px;background-color:#fff;overflow:hidden;box-shadow:0 12px 46px -16px #ccc}.abs-dropdown-items-container[_ngcontent-%COMP%]  .abs-dropdown-item{height:30px;line-height:30px;text-align:left}.abs-dropdown-items-container[_ngcontent-%COMP%]  .abs-dropdown-item .nu-icon{margin:0 5px 0 -5px;float:left}.abs-dropdown-items-container[_ngcontent-%COMP%]  .abs-dropdown-item .dropdown-item-select-tick{visibility:hidden}.abs-dropdown-items-container[_ngcontent-%COMP%]  .abs-dropdown-item.selected .dropdown-item-select-tick{visibility:visible}.abs-dropdown-inner[_ngcontent-%COMP%]{position:absolute;z-index:2}@-webkit-keyframes showingAnimationDown{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@keyframes showingAnimationDown{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes showingAnimationUp{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@keyframes showingAnimationUp{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]],l=r.Db({encapsulation:0,styles:s,data:{}});function c(e){return r.Zb(2,[r.Vb(402653184,1,{itemsContainer:0}),r.Vb(402653184,2,{ddContainer:0}),r.Vb(402653184,3,{dropDownInnerContainer:0}),(e()(),r.Fb(3,0,[[2,0],["ddContainer",1]],null,7,"div",[["class","abs-dropdown-container"]],null,null,null,null,null)),(e()(),r.Fb(4,0,null,null,1,"div",[["class","abs-dropdown-btn-container"]],null,null,null,null,null)),r.Ob(null,0),(e()(),r.Fb(6,0,[[3,0],["dropDownInnerContainer",1]],null,4,"div",[],[[8,"className",0]],[[null,"wheel"]],function(e,t,n){var r=!0,i=e.component;"wheel"===t&&(r=!1!==i.preventEdgeScroll(n)&&r);return r},null,null)),(e()(),r.Fb(7,0,[[1,0],["itemsContainer",1]],null,3,"ul",[["class","abs-dropdown-items-container"]],null,null,null,null,null)),(e()(),r.Fb(8,0,null,null,2,"perfect-scrollbar",[["class","abstract-dropdown-scrollbar"]],[[2,"ps-show-limits",null],[2,"ps-show-active",null]],null,null,i.b,i.a)),r.Eb(9,507904,null,0,a.b,[r.H,r.i,r.K],null,null),r.Ob(0,1)],function(e,t){e(t,9,0)},function(e,t){var n=t.component;e(t,6,0,r.Hb(1,"abs-dropdown-inner ",n.direction,"")),e(t,8,0,r.Pb(t,9).autoPropagation,r.Pb(t,9).scrollIndicators)})}r.Bb("abs-dropdown",o.a,function(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,3,"abs-dropdown",[],null,null,null,c,l)),r.Eb(1,1228800,null,2,o.a,[r.o],null,null),r.Vb(603979776,1,{dropDownItems:1}),r.Vb(335544320,2,{dropDownButton:0})],null,null)},{direction:"direction",autoPosition:"autoPosition",maxHeight:"maxHeight",settings:"settings"},{},["[ddbutton]","[dditem]"])},cOhl:function(e,t,n){"use strict";var r=n("D57K"),i=n("5xGT"),a=n("g3Dv"),o=n("LiEJ"),s=n("gQst"),l=n("z5yO"),c=n("Jg5f"),u=n("U3QC"),p=(n("QoSw"),n("bNPW")),d=function(){function e(e,t,n){this.name=e,this.styles=t,this.title=n}return Object.defineProperty(e.prototype,"paletteId",{get:function(){return(this.name+JSON.stringify(this.styles)).replace(/['"]+/g,"")},enumerable:!0,configurable:!0}),e}(),f=n("DL1I");n.d(t,"a",function(){return h});var h=function(){function e(e){this.ll=e,this._documentPalette=new d("document",[],"PANEL_HEADINGS.DOCUMENT_STYLES"),this._documentLinePalettes=new d("document-line",[],"PANEL_HEADINGS.DOCUMENT_STYLES"),this._palettes=new o.a([]),this._linePalettes=new o.a([]),this.subs=[],this._palettes.getValue().push(this._documentPalette),this._linePalettes.getValue().push(this._documentLinePalettes),this.createPalettes(),this.subs.push(this.getDocumentShapeStyles().subscribe())}return e.prototype.getDocumentPalette=function(){return this._documentPalette},e.prototype.getDocumentLinePalette=function(){return this._documentLinePalettes},Object.defineProperty(e.prototype,"locator",{get:function(){return this.ll.forCurrent(!1)},enumerable:!0,configurable:!0}),e.prototype.getDiagramDistinctStyles=function(e){var t=[],n=[];return e.forEach(function(e){if(e.style){var r=e.previewTextModel;r&&(e.style.textColor=r.content[0].color),n.includes(e.style.styleId)||(n.push(e.style.styleId),t.push(e.style))}}),t},e.prototype.getDocumentChanges=function(){var e=this;return Object(s.a)(this.locator.getDiagramOnce(),this.locator.getDiagramChanges().pipe(Object(l.a)(function(t){return e.hasStyleChanges(t)}),Object(c.a)(function(e){return e.model})))},e.prototype.hasStyleChanges=function(e){if(e.added&&e.added.length)return!0;if(e.split.shapes&&Object.keys(e.split.shapes).length)for(var t in e.split.shapes)if(e.split.shapes.hasOwnProperty(t)){if(e.modifier.$unset&&e.modifier.$unset["shapes."+t])return!0;var n=e.split.shapes[t];if(i.K.hasChanges(n,"style"))return!0;if(i.K.hasChanges(n,"texts"))return!0}return!1},e.prototype.getDocumentShapeStyles=function(){var e=this;return this.getDocumentChanges().pipe(Object(u.a)(function(t){var n=t.getShapes([a.l.Basic]);n=n.filter(function(e){return e.isStyleEnabledShape()});var r=e.getDiagramDistinctStyles(n);e._documentPalette.styles=r,e._palettes.next(e._palettes.getValue());var i=t.getShapes([a.l.Connector]);e._documentLinePalettes.styles=e.getDiagramDistinctStyles(i),e._linePalettes.next(e._linePalettes.getValue())}))},e.prototype.getPalattes=function(){return this._palettes},e.prototype.getLinePalattes=function(){return this._linePalettes},e.prototype.createPalettes=function(){this._palettes.getValue().push(this.createMetroPalette()),this._palettes.getValue().push(this.createMetroLinedPalette()),this._palettes.getValue().push(this.createModernMashPalette()),this._palettes.getValue().push(this.createLightPalette()),this._palettes.getValue().push(this.createOutlinedPalette()),this._palettes.getValue().push(this.createDottedPalette()),this._palettes.getValue().push(this.createRetroGradientsPalette()),this._palettes.getValue().push(this.createOfficePalette()),this._palettes.getValue().push(this.createPastelPalette()),this._palettes.getValue().push(this.createTriadPalette()),this._palettes.getValue().push(this.createVintageGradientsPalette()),this._linePalettes.getValue().push(this.createLinesMetroLinedPalette()),this._linePalettes.getValue().push(this.createLinesDottedPalette())},e.prototype.createMetroPalette=function(){var e=[new f.a(2,"#054F7A",[0,0],1,"#054F7A",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#08415F",[0,0],1,"#08415F",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#36ABD6",[0,0],1,"#36ABD6",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#0995CE",[0,0],1,"#0995CE",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#63C9D5",[0,0],1,"#63C9D5",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#34BDCC",[0,0],1,"#34BDCC",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#92B73E",[0,0],1,"#92B73E",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#8DA13B",[0,0],1,"#8DA13B",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#F5C457",[0,0],1,"#F5C457",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#F2AF1D",[0,0],1,"#F2AF1D",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#83153D",[0,0],1,"#83153D",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#700C2B",[0,0],1,"#700C2B",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#D94753",[0,0],1,"#D94753",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#C0232C",[0,0],1,"#C0232C",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#F68C27",[0,0],1,"#F68C27",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#F47421",[0,0],1,"#F47421",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#ED809A",[0,0],1,"#ED809A",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#FA4772",[0,0],1,"#FA4772",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#CC7ADA",[0,0],1,"#CC7ADA",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#AD3CC1",[0,0],1,"#AD3CC1",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#E9E4E8",[0,0],1,"#E9E4E8",a.d.Solid,void 0,1,"#606060"),new f.a(2,"#8B8B8B",[0,0],1,"#8B8B8B",a.d.Solid,void 0,1,"#ffffff"),new f.a(2,"#2F2F2F",[0,0],1,"#2F2F2F",a.d.Solid,void 0,1,"#ffffff")];return new d("metro",e,"PANEL_HEADINGS.CREATELY_STYLES")},e.prototype.createMetroLinedPalette=function(){var e=[new f.a(2,"#054F7A",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#054F7A"),new f.a(2,"#08415F",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#08415F"),new f.a(2,"#36ABD6",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#36ABD6"),new f.a(2,"#0995CE",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#0995CE"),new f.a(2,"#63C9D5",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#63C9D5"),new f.a(2,"#34BDCC",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#34BDCC"),new f.a(2,"#92B73E",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#92B73E"),new f.a(2,"#8DA13B",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#8DA13B"),new f.a(2,"#F5C457",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#F5C457"),new f.a(2,"#F2AF1D",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#F2AF1D"),new f.a(2,"#83153D",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#83153D"),new f.a(2,"#700C2B",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#700C2B"),new f.a(2,"#D94753",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#D94753"),new f.a(2,"#C0232C",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#C0232C"),new f.a(2,"#F68C27",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#F68C27"),new f.a(2,"#F47421",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#F47421"),new f.a(2,"#ED809A",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#ED809A"),new f.a(2,"#FA4772",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#FA4772"),new f.a(2,"#CC7ADA",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#CC7ADA"),new f.a(2,"#AD3CC1",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#AD3CC1"),new f.a(2,"#E9E4E8",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#606060"),new f.a(2,"#8B8B8B",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#8B8B8B"),new f.a(2,"#2F2F2F",[0,0],1,"#ffffff",a.d.Solid,void 0,1,"#2F2F2F")];return new d("metro-lined",e)},e.prototype.createLightPalette=function(){var e=[new f.a(2,"#EC4A42",[0,0],1,"#FFF1F0",a.d.Solid,void 0,1,"#EC4A42"),new f.a(2,"#FDA906",[0,0],1,"#FFF4DF",a.d.Solid,void 0,1,"#FDA906"),new f.a(2,"#DEB307",[0,0],1,"#FFF6D0",a.d.Solid,void 0,1,"#DEB307"),new f.a(2,"#71BF85",[0,0],1,"#E2FFEA",a.d.Solid,void 0,1,"#71BF85"),new f.a(2,"#2BBC9E",[0,0],1,"#DBFFF8",a.d.Solid,void 0,1,"#2BBC9E"),new f.a(2,"#2D94E4",[0,0],1,"#D8EBFA",a.d.Solid,void 0,1,"#2D94E4"),new f.a(2,"#A275CD",[0,0],1,"#F2E4FF",a.d.Solid,void 0,1,"#A275CD"),new f.a(2,"#BAA88C",[0,0],1,"#FFF6E8",a.d.Solid,void 0,1,"#BAA88C"),new f.a(2,"#CD8B6A",[0,0],1,"#FFEAE0",a.d.Solid,void 0,1,"#CD8B6A"),new f.a(2,"#3D5C83",[0,0],1,"#E3EFFF",a.d.Solid,void 0,1,"#3D5C83"),new f.a(2,"#B2B3B3",[0,0],1,"#F3F3F3",a.d.Solid,void 0,1,"#B2B3B3"),new f.a(2,"#FFE365",[0,0],1,"#FAF6DF",a.d.Solid,void 0,1,"#FFE365")];return new d("light",e)},e.prototype.createOutlinedPalette=function(){var e=[new f.a(2,"#5B0902",[0,0],1,"#EC4A42",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#865903",[0,0],1,"#FDA906",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#995417",[0,0],1,"#FF8C27",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#9E8319",[0,0],1,"#F7CA18",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#417C50",[0,0],1,"#71BF85",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#1C7764",[0,0],1,"#2BBC9E",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#7B8B02",[0,0],1,"#B4CB00",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#145384",[0,0],1,"#2D94E4",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#62477D",[0,0],1,"#A275CD",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#7A6A50",[0,0],1,"#BAA88C",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#834729",[0,0],1,"#CD8B6A",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#516263",[0,0],1,"#94A5A6",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#3E606D",[0,0],1,"#8ED2EB",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#7D5740",[0,0],1,"#F8B48C",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#1C2E44",[0,0],1,"#3D5C83",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#022048",[0,0],1,"#004291",a.d.Solid,void 0,1,"#FFFFFF")];return new d("outlined",e)},e.prototype.createDottedPalette=function(){var e=[new f.a(2,"#054F7A",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#054F7A"),new f.a(2,"#08415F",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#08415F"),new f.a(2,"#36ABD6",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#36ABD6"),new f.a(2,"#0995CE",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#0995CE"),new f.a(2,"#63C9D5",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#63C9D5"),new f.a(2,"#34BDCC",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#34BDCC"),new f.a(2,"#92B73E",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#92B73E"),new f.a(2,"#8DA13B",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#8DA13B"),new f.a(2,"#F5C457",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#F5C457"),new f.a(2,"#F2AF1D",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#F2AF1D"),new f.a(2,"#83153D",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#83153D"),new f.a(2,"#700C2B",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#700C2B"),new f.a(2,"#D94753",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#D94753"),new f.a(2,"#C0232C",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#C0232C"),new f.a(2,"#F68C27",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#F68C27"),new f.a(2,"#F47421",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#F47421"),new f.a(2,"#ED809A",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#ED809A"),new f.a(2,"#FA4772",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#FA4772"),new f.a(2,"#CC7ADA",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#CC7ADA"),new f.a(2,"#AD3CC1",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#AD3CC1"),new f.a(2,"#E9E4E8",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#606060"),new f.a(2,"#8B8B8B",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#8B8B8B"),new f.a(2,"#2F2F2F",[3,3],1,"#ffffff",a.d.Solid,void 0,1,"#2F2F2F")];return new d("dotted",e)},e.prototype.createOfficePalette=function(){var e=[new f.a(2,"#0067A0",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#0067A0"),new f.a(2,"#BC2621",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#BC2621"),new f.a(2,"#FF8C27",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#FF8C27"),new f.a(2,"#359B4F",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#359B4F"),new f.a(2,"#AD1A98",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#AD1A98"),new f.a(2,"#AD613B",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#AD613B"),new f.a(2,"#3D5C83",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#3D5C83"),new f.a(2,"#7E8C8D",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#7E8C8D"),new f.a(2,"#8C9B15",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#8C9B15"),new f.a(2,"#23A087",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#23A087"),new f.a(2,"#BBA88A",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#BBA88A"),new f.a(2,"#F7CA18",[0,0],1,"#F2F2F2",a.d.Solid,void 0,1,"#F7CA18")];return new d("office",e)},e.prototype.createPastelPalette=function(){var e=[new f.a(2,"#D58186",[0,0],1,"#EC9FA4",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#6E56AB",[0,0],1,"#9988C4",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#62B7E2",[0,0],1,"#8FD1F3",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#6F8FCD",[0,0],1,"#93ADE1",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#B7C56D",[0,0],1,"#D6E298",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#75B777",[0,0],1,"#96CB97",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#DEB56C",[0,0],1,"#F7CE84",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#D38256",[0,0],1,"#EA9E76",a.d.Solid,void 0,1,"#FFFFFF")];return new d("pastel",e)},e.prototype.createTriadPalette=function(){var e=[new f.a(2,"#355085",[0,0],1,"#FC7563",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#1D8DDB",[0,0],1,"#FDA906",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#9466B0",[0,0],1,"#F5D76E",a.d.Solid,void 0,1,"#9466B0"),new f.a(2,"#866B3E",[0,0],1,"#96C300",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#EA6C00",[0,0],1,"#CEEAD9",a.d.Solid,void 0,1,"#EA6C00"),new f.a(2,"#A606BB",[0,0],1,"#FFCE42",a.d.Solid,void 0,1,"#A606BB"),new f.a(2,"#C96A73",[0,0],1,"#71BF85",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#EA8C75",[0,0],1,"#1C355A",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#DE424D",[0,0],1,"#1053B2",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#4E4E4E",[0,0],1,"#FFE637",a.d.Solid,void 0,1,"#4E4E4E"),new f.a(2,"#FFAB00",[0,0],1,"#A274D0",a.d.Solid,void 0,1,"#FFFFFF"),new f.a(2,"#DE424D",[0,0],1,"#F7D865",a.d.Solid,void 0,1,"#395B84")];return new d("triad",e)},e.prototype.createModernMashPalette=function(){var e=[new f.a(2,"#3D9E53",[0,0],1,void 0,a.d.LinearGradient,{colors:["#46B4B9","#52C36C"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#8235D0",[0,0],1,void 0,a.d.LinearGradient,{colors:["#8317DB","#E05F64"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#F29A53",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FDDE7B","#F0867F"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#5C96D8",[0,0],1,void 0,a.d.LinearGradient,{colors:["#3EE6DD","#5D7BF1"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#BA1027",[0,0],1,void 0,a.d.LinearGradient,{colors:["#D172D3","#E63B63"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#8839CC",[0,0],1,void 0,a.d.LinearGradient,{colors:["#E430CB","#658FF1"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#4496A5",[0,0],1,void 0,a.d.LinearGradient,{colors:["#4AB8A4","#658FF1"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#F8831D",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FACB00","#F04D43","#FACB00"],ratios:[0,.5,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff")];return new d("modern-mash",e)},e.prototype.createRetroGradientsPalette=function(){var e=[new f.a(2,"#EC4A42",[0,0],1,void 0,a.d.LinearGradient,{colors:["#F78177","#EC4A42"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#C43731",[0,0],1,void 0,a.d.LinearGradient,{colors:["#E4685F","#C43731"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#FDA906",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFD40E","#FDA906"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#FF8C27",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFC050","#FF8C27"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#F7CA18",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FCE735","#F7CA18"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#71BF85",[0,0],1,void 0,a.d.LinearGradient,{colors:["#A9E1BB","#71BF85"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#359B4F",[0,0],1,void 0,a.d.LinearGradient,{colors:["#5EBA76","#359B4F"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#2BBC9E",[0,0],1,void 0,a.d.LinearGradient,{colors:["#56DFCD","#2BBC9E"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#23A087",[0,0],1,void 0,a.d.LinearGradient,{colors:["#49CEBC","#23A087"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#B4CB00",[0,0],1,void 0,a.d.LinearGradient,{colors:["#DBE700","#B4CB00"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#8C9B15",[0,0],1,void 0,a.d.LinearGradient,{colors:["#C0CB2E","#8C9B15"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#2D94E4",[0,0],1,void 0,a.d.LinearGradient,{colors:["#59C6F3","#2D94E4"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#004291",[0,0],1,void 0,a.d.LinearGradient,{colors:["#5C8FCC","#004291"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#A275CD",[0,0],1,void 0,a.d.LinearGradient,{colors:["#CFADE8","#A275CD"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#AD1A98",[0,0],1,void 0,a.d.LinearGradient,{colors:["#DE61CC","#AD1A98"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#BAA88C",[0,0],1,void 0,a.d.LinearGradient,{colors:["#DED3C0","#BAA88C"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#AD613B",[0,0],1,void 0,a.d.LinearGradient,{colors:["#D69A6D","#AD613B"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#3D5C83",[0,0],1,void 0,a.d.LinearGradient,{colors:["#7095B9","#3D5C83"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#354860",[0,0],1,void 0,a.d.LinearGradient,{colors:["#657E99","#354860"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff"),new f.a(2,"#7E8C8D",[0,0],1,void 0,a.d.LinearGradient,{colors:["#B5C0C1","#7E8C8D"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#ffffff")];return new d("retro-gradients",e)},e.prototype.createVintageGradientsPalette=function(){var e=[new f.a(2,"#EC4A42",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#FFB3AF"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#EC4A42"),new f.a(2,"#FDA906",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#FFDB96"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#FDA906"),new f.a(2,"#FF8C27",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#FFC898"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#FF8C27"),new f.a(2,"#F7CA18",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#FFE684"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#F7CA18"),new f.a(2,"#71BF85",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#A4E1B4"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#71BF85"),new f.a(2,"#359B4F",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#72D98C"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#359B4F"),new f.a(2,"#2BBC9E",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#6AE4CB"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#2BBC9E"),new f.a(2,"#B4CB00",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#DEED6A"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#B4CB00"),new f.a(2,"#8C9B15",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#C2CE64"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#8C9B15"),new f.a(2,"#2D94E4",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#98C6EA"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#2D94E4"),new f.a(2,"#004291",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#84ACDD"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#004291"),new f.a(2,"#A275CD",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#C9ABE7"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#A275CD"),new f.a(2,"#AD1A98",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#E1A6D8"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#AD1A98"),new f.a(2,"#FFADAC",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#FFE0E1"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#FFADAC"),new f.a(2,"#BAA88C",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#D5CBBA"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#BAA88C"),new f.a(2,"#AD613B",[0,0],1,void 0,a.d.LinearGradient,{colors:["#FFFFFF","#D9AC96"],ratios:[0,1],x0:.5,y0:0,x1:.5,y1:.9},1,"#AD613B")];return new d("vintage-gradients",e)},e.prototype.createLinesMetroLinedPalette=function(){var e=[new p.a(2,"#C43731",[0,0],1),new p.a(2,"#FF8C27",[0,0],1),new p.a(2,"#F7CA18",[0,0],1),new p.a(2,"#359B4F",[0,0],1),new p.a(2,"#2BBC9E",[0,0],1),new p.a(2,"#23A087",[0,0],1),new p.a(2,"#B4CB00",[0,0],1),new p.a(2,"#8C9B15",[0,0],1),new p.a(2,"#2D94E4",[0,0],1),new p.a(2,"#004291",[0,0],1),new p.a(2,"#A275CD",[0,0],1),new p.a(2,"#AD1A98",[0,0],1),new p.a(2,"#D4C6B2",[0,0],1),new p.a(2,"#BAA88C",[0,0],1),new p.a(2,"#354860",[0,0],1),new p.a(2,"#BCC3C6",[0,0],1)];return new d("lines-metro-lined",e,"PANEL_HEADINGS.CREATELY_STYLES")},e.prototype.createLinesDottedPalette=function(){var e=[new p.a(2,"#C43731",[3,3],1),new p.a(2,"#FF8C27",[3,3],1),new p.a(2,"#F7CA18",[3,3],1),new p.a(2,"#359B4F",[3,3],1),new p.a(2,"#2BBC9E",[3,3],1),new p.a(2,"#23A087",[3,3],1),new p.a(2,"#B4CB00",[3,3],1),new p.a(2,"#8C9B15",[3,3],1),new p.a(2,"#2D94E4",[3,3],1),new p.a(2,"#004291",[3,3],1),new p.a(2,"#A275CD",[3,3],1),new p.a(2,"#AD1A98",[3,3],1),new p.a(2,"#BAA88C",[3,3],1),new p.a(2,"#AD613B",[3,3],1),new p.a(2,"#3D5C83",[3,3],1),new p.a(2,"#7E8C8D",[3,3],1)];return new d("lines-dotted",e)},e.prototype.getPalatte=function(e){return this._palettes.getValue().find(function(t){return t.paletteId===e})},e.prototype.getPalatteByName=function(e){return this._palettes.getValue().find(function(t){return t.name===e})},e.prototype.getStyle=function(e){var t,n,i=this._palettes.getValue().concat(this._linePalettes.getValue());try{for(var a=r.k(i),o=a.next();!o.done;o=a.next()){var s=o.value.styles.find(function(t){return t.styleId===e});if(s)return s}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e}()},cs9O:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("D57K"),i=n("g3Dv"),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(n!==i.l.Basic&&n!==i.l.Dynamic&&n!==i.l.Image)throw new Error("ShapeDisplayView cannot be created with "+n+" shape type.");return r}return r.d(t,e),t.prototype.getCursor=function(e){return{cursor:"default",tail:null,type:"css"}},Object.defineProperty(t.prototype,"isShapeView",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isConnectorView",{get:function(){return!1},enumerable:!0,configurable:!0}),t}(n("deqJ").a)},dFmy:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("19Zn"),i=n("Jg5f"),a=n("z5yO"),o=n("G2Mx"),s=(n("SBw3"),n("5xGT"),n("pN2L")),l=(n("QoSw"),function(){function e(e,t,n){this.ll=e,this.state=t,this.featureList=n,this.toogleableStyles=["bold","italic","underline","strikeout","align"],this.textFormatter=new r.y}return e.prototype.getFeatureData=function(e,t){var n=this,r=this.featureList.getFeature(e),a=this.state.get("Selected");return this.ll.forCurrent(!1).getDiagramOnce().pipe(Object(i.a)(function(e){var i=e.getCommonTextStyles(a),o=n.getUIData(r.data,t,i);return o.validation=r.data.validation,o.readOnly=r.data.readOnly,o}))},e.prototype.getUIData=function(e,t,n){return"align"===e.style?t.value=n.align===e.value:t=this.updateOptionData(t,n[e.style])||{value:n[e.style]},t},e.prototype.updateOptionData=function(e,t){if(e&&e.data){var n=e.data;n.forEach(function(e){return e.selected=!1});var r=n.find(function(e){return""+e.value==""+t});if(r||void 0===t)r&&(r.selected=!0);else{var i=n.find(function(e){return e.custom});i?(i.id=t,i.label=t,i.buttonLabel=t,i.value=t,i.selected=!0):n.push({id:t,label:t,buttonLabel:t,value:t,custom:!0,selected:!0})}return{value:n}}},e.prototype.getApplyData=function(e,t){var n=this.featureList.getFeature(e),r={};this.toogleableStyles.includes(n.data.style)?r[n.data.style]=n.data.value:r[n.data.style]=t.value;var l={format:{indexStart:0,styles:r}};return this.state.get("EditingText").open?this.state.changes("EditingText").pipe(Object(a.a)(function(e){return!e.open}),Object(o.a)(1),Object(i.a)(function(){return l})):Object(s.a)(l)},e}())},euU2:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("5xGT");var r=n("pN2L"),i=n("Jg5f"),a=(n("QoSw"),n("SBw3"),function(){function e(e,t,n){this.ll=e,this.state=t,this.featureList=n}return Object.defineProperty(e.prototype,"locator",{get:function(){return this.ll.forCurrent(!1)},enumerable:!0,configurable:!0}),e.prototype.isEnabled=function(e){var t=this.state.get("Selected");return this.locator.getDiagramOnce().pipe(Object(i.a)(function(n){var r=n.isShapeInGroup(t);return"groupShapes"===e?!r:"ungroupShapes"===e?r:void 0}))},e.prototype.getFeatureData=function(e,t){return void 0===t&&(t={}),Object(r.a)(t)},e.prototype.getApplyData=function(e,t){return Object(r.a)({})},e}())},flPR:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return m});var r=n("D57K"),i=n("5xGT"),a=n("iUUs"),o=n("gQst"),s=n("wk5G"),l=n("ZJHl"),c=n("12aA"),u=n("Jg5f"),p=n("cGAd"),d=n("hOK2"),f=n("AouM"),h=n("R+ki"),g=n("W/Ou");function b(){return function(e){}}var m=function(){function e(e){this.state=e,this.subs=[]}return e.prototype.add=function(){var e=this.createAddSource().pipe(Object(l.a)());return this.subs.push(e.connect()),e},e.prototype.remove=function(){var e=this.createRemoveSource().pipe(Object(l.a)());return this.subs.push(e.connect()),e},e.prototype.change=function(){var e=this.createChangeSource().pipe(Object(l.a)());return this.subs.push(e.connect()),e},e.prototype.destroy=function(){for(;this.subs.length>0;)this.subs.pop().unsubscribe();this.indicatorLayer=void 0},e.prototype.duringInteractions=function(e,t){return Object(o.a)(this.duringSelectionInteraction(e,t),this.duringPan(e,t),this.duringTextEdit(e,t))},e.prototype.duringSelectionInteraction=function(e,t){return Object(o.a)(Object(a.a)(this.indicatorLayer,s.b.interactionStart).pipe(Object(c.a)(t)),Object(o.a)(Object(a.a)(this.indicatorLayer,s.b.interactionEnd),Object(a.a)(this.indicatorLayer,s.b.interactionCancel)).pipe(Object(c.a)(e)))},e.prototype.duringTextEdit=function(e,t){return this.state.changes("EditingText").pipe(Object(u.a)(function(n){return!1===n.open?e:t}))},e.prototype.duringPan=function(e,t){var n=this.state.changes("DiagramPan").pipe(Object(p.a)(1));return n.pipe(Object(d.a)(200),Object(f.a)(function(){return n.pipe(Object(h.a)(100),Object(c.a)(e),Object(g.a)(t))}))},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r.d(t,e)}(i.Z)},"hN/v":function(e,t,n){!function(n){"use strict";function r(e,t){if(e instanceof Boolean||"boolean"==typeof e)return!1;if(t instanceof Object||(t={}),t.hasOwnProperty("allowBlank")&&!t.allowBlank&&""===e)return!1;var n="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?";return t.mime&&(n="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)?"+n),!1===t.paddingRequired&&(n="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),new RegExp("^"+n+"$","gi").test(e)}e.exports&&(t=e.exports=r),t.isBase64=r}()},i0zf:function(e,t,n){"use strict";n.d(t,"a",function(){return p});n("0jHB");var r=n("XWWj"),i=n("G2Mx"),a=n("Jg5f"),o=n("z5yO"),s=n("AouM"),l=n("LiEJ"),c=n("iJR/"),u=n("nsO7"),p=function(){function e(e){var t=this;this.definitionLocator=e,this.allDefs=new l.a(null),this.type="shape",this.definitionLocator.getDefs().pipe(Object(i.a)(1),Object(a.a)(function(e){return e.defs.filter(function(e){return"connector"!==e.type}).map(function(e){var t=Object(u.clone)(e);return t.tags="string"==typeof e.tags?e.tags:(e.tags||[]).join(" "),t.description=e.description||"",t})})).subscribe(function(e){t.allDefs.next(e)})}return e.prototype.search=function(e){return this.allDefs.pipe(Object(o.a)(function(t){return e&&e.length>2&&!!t}),Object(s.a)(function(t){return Object(c.a)(Object(r.goAsync)(e,t,{keys:["tags","name","description"],threshold:-1e4}))}),Object(a.a)(function(e){var t=[];return e.forEach(function(e){t.push({id:e.obj.defId,version:e.obj.version,type:"shape"})}),t}))},e}()},iim9:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var r,i=function(){return function(){}}();!function(e){e.Static="static",e.Custom="custom",e.Special="special",e.Project="project"}(r||(r={}))},jC5Z:function(e,t){e.exports=function(e){return atob(e)}},k0Sg:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("nsO7"),i=(n("SBw3"),n("5xGT"),n("pN2L")),a=n("Jg5f"),o=(n("QoSw"),function(){function e(e,t,n){this.ll=e,this.state=t,this.featureList=n}return e.prototype.getFeatureData=function(e,t){var n=this,o=this.featureList.getFeature(e);return t.params={readOnly:o.data.readOnly,isDiffColor:!1},"lineStyle"===o.data.style?(t.data.forEach(function(e){e.buttonIcon=n.getDrawableIcon(e.value,60,20),e.itemIcon=n.getDrawableIcon(e.value,50,20),e.selected=Object(r.isEqual)(t.value,e.value)}),Object(i.a)({value:t.data})):("lineThickness"===o.data.style&&(t.value=t.value+"px"),"fillColor"===o.data.style||"lineColor"===o.data.style?this.ll.forCurrent(!1).getDiagramOnce().pipe(Object(a.a)(function(e){return n.getColorMismatch(e,t,o.data.style)})):Object(i.a)(t))},e.prototype.getColorMismatch=function(e,t,n){var r=this.state.get("Selected"),i=[],a=!1;r.forEach(function(t){var r=e.getShape(t);switch(n){case"fillColor":i.push(r.style.fillColor);break;case"lineColor":i.push(r.style.lineColor)}});for(var o=1;o<i.length;o++)if(i[o-1]!==i[o]){a=!0;break}return a&&(t.params.isDiffColor=!0),t},e.prototype.getDrawableIcon=function(e,t,n){return{type:"canvas",value:function(r,i){r.setStrokeDash(e),r.beginStroke("grey"),r.moveTo(0,n/2),r.lineTo(t,n/2),r.endStroke()},width:t,height:n}},e.prototype.getApplyData=function(e,t){var n=this.featureList.getFeature(e);"lineThickness"===n.data.style&&(t.value=parseInt(t.value,10));var r={};return r[n.data.style]=t.value,"colorFill"===e&&(r.fillStyle="solid"),Object(i.a)({style:r})},e}())},"kO+N":function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,a=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()},4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,p){p||(t=c(t));var d,f=this,h="application/octet-stream"===t.type,g=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(a){s(a)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return d=n().createObjectURL(t),void setTimeout(function(){var e,t;r.href=d,r.download=u,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(d),f.readyState=f.DONE});!function(){if((o||h&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=o?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,g()},r.readAsDataURL(t),void(f.readyState=f.INIT)}d||(d=n().createObjectURL(t)),h?e.location.href=d:e.open(d,"_blank")||(e.location.href=d);f.readyState=f.DONE,g(),l(d)}()},p=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=i:null!==n("IU0J")&&null!==n("jPSd")&&(void 0===(r=(function(){return i}).call(t,n,t,e))||(e.exports=r))},ktZS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("D57K"),i=n("oyCe"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),Object.defineProperty(t.prototype,"subscription",{get:function(){return"Diagram"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelType",{get:function(){return i.a},enumerable:!0,configurable:!0}),t}(n("xnGY").a)},l81r:function(e,t,n){"use strict";var r=n("LoAr"),i=n("WT9V"),a=n("rwb9");n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var o=[[".user-img-inner[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#b9b9b9;height:inherit;width:inherit;position:relative;overflow:hidden;text-align:center}.user-img-inner[_ngcontent-%COMP%]:after{content:'';display:block;position:absolute;height:inherit;width:inherit;top:0;background:rgba(255,255,255,.7)}.user-img-container[_ngcontent-%COMP%]{position:relative;color:#fff}.user-img-container.active[_ngcontent-%COMP%]   .user-img-inner[_ngcontent-%COMP%]:after{background:0 0}.user-img-container.pending[_ngcontent-%COMP%]{color:#a09f9f}.user-img-container.small[_ngcontent-%COMP%]{width:25px;height:25px}.user-img-container.small[_ngcontent-%COMP%]   .user-img-inner[_ngcontent-%COMP%]{line-height:25px;font-size:14px}.user-img-container.large[_ngcontent-%COMP%]{width:50px;height:50px}.user-img-container.large[_ngcontent-%COMP%]   .user-img-inner[_ngcontent-%COMP%]{line-height:50px;font-size:18px}"]],s=r.Db({encapsulation:0,styles:o,data:{}});function l(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,2,"div",[["class","user-img-inner fx-round"]],null,null,null,null,null)),r.Eb(1,278528,null,0,i.n,[r.A,r.o,r.P],{ngStyle:[0,"ngStyle"]},null),r.Sb(2,{"background-image":0})],function(e,t){var n=e(t,2,0,"url("+t.component.imagePath+")");e(t,1,0,n)},null)}function c(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,3,"div",[["class","user-img-inner fx-round"]],null,null,null,null,null)),r.Eb(1,278528,null,0,i.n,[r.A,r.o,r.P],{ngStyle:[0,"ngStyle"]},null),r.Sb(2,{"background-color":0}),(e()(),r.Xb(3,null,[" "," "]))],function(e,t){var n=e(t,2,0,t.component.userColor);e(t,1,0,n)},function(e,t){e(t,3,0,t.component.userInitials)})}function u(e){return r.Zb(2,[(e()(),r.Fb(0,0,null,null,6,"div",[],null,null,null,null,null)),r.Eb(1,278528,null,0,i.i,[r.z,r.A,r.o,r.P],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Sb(2,{active:0,offline:1,pending:2}),(e()(),r.wb(16777216,null,null,1,null,l)),r.Eb(4,16384,null,0,i.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null),(e()(),r.wb(16777216,null,null,1,null,c)),r.Eb(6,16384,null,0,i.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=r.Hb(1,"user-img-container fx-round ",n.imageSize,""),a=e(t,2,0,n.userOnlineStatus,!n.userOnlineStatus,!n.userRegistered);e(t,1,0,i,a),e(t,4,0,n.hasImage),e(t,6,0,!n.hasImage)},null)}r.Bb("user-image",a.a,function(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,1,"user-image",[],null,null,null,u,s)),r.Eb(1,49152,null,0,a.a,[],null,null)],null,null)},{imageSize:"imageSize",hasImage:"hasImage",imagePath:"imagePath",userRegistered:"userRegistered",userColor:"userColor",userInitials:"userInitials",userOnlineStatus:"userOnlineStatus"},{},[])},lP4r:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("D57K"),i=n("d9YI"),a=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"ShapeCodeBinder"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paths",{get:function(){return["*"]},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t,n,a=e.__sakota__.getChanges(),o=this.modifiedShapes(a);try{for(var s=r.k(o),l=s.next();!l.done;l=s.next()){var c=l.value;this.processShape(e,c)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return Object(i.b)()},e.prototype.processShape=function(e,t){var n=e.shapes[t];n&&n.dataChange&&n.dataChange(n)},e.prototype.modifiedShapes=function(t){var n,i,a=[];try{for(var o=r.k(["$set","$unset"]),s=o.next();!s.done;s=o.next()){var l=s.value;if(t[l])for(var c in t[l]){e.regexShape.lastIndex=0;var u=e.regexShape.exec(c);if(u){var p=u[1];-1===a.indexOf(p)&&a.push(p)}}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.regexShape=/shapes\.([^\.]+)\./g,e}()},lu3Q:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("nsO7"),i=function(){function e(){}return e.prototype.addCursors=function(e){this.cursors?this.cursors=Object(r.merge)(this.cursors,e):this.cursors=e},e.prototype.getCursorCSS=function(e){var t,n;if(e.tail){var r=this.getCompactCursor(this.getCursor(e.cursor||"normal"),this.getTail(e.tail));t=r.content,n=r.origin}else{if(!e.cursor||e.tail)throw new Error("At least one of cursor or tail should be dfiend to generate the cursor CSS.");t=this.getCursor(e.cursor),n=this.getSvgData(t).origin}return("url('data:image/svg+xml;utf8,"+t+"') "+n.x+" "+n.y+", auto").replace(/\n|\r/g,"")},e.prototype.getCursor=function(e){if(this.cursors.cursors[e])return this.cursors.cursors[e];throw new Error(e+" cursor is not found in the cursors ICursorMap")},e.prototype.getTail=function(e){if(this.cursors.tails[e])return this.cursors.tails[e];throw new Error(e+" cursor tail is not found in the cursors ICursorMap")},e.prototype.getCompactCursor=function(e,t){var n=this.getSvgData(e),r=this.getSvgData(t);return{content:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+(n.width+r.width)+'" height="'+(n.height+r.height)+'" ><g>'+n.content+'</g><g transform="translate('+n.width+" "+n.height+')">'+r.content+"</g></svg>",origin:n.origin}},e.prototype.getSvgData=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector("svg");return{content:n.innerHTML,width:Number(n.getAttribute("width")),height:Number(n.getAttribute("height")),origin:{x:Number(n.getAttribute("data-ox")||0),y:Number(n.getAttribute("data-oy")||0)}}},e}()},mzLc:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("nsO7"),i=n("XQl3"),a=function(){function e(t,n){void 0===n&&(n=!1);var i=this;if(this.internalDisabled=!1,this.internalChecked=!0,this.internalCollapsed=!1,this.disableChildrenCheck=!1,this.disableItemCheck=!1,Object(r.isNil)(t))throw new Error("Item must be defined");if(!Object(r.isString)(t.text))throw new Error("A text of item must be string object");this.text=t.text,this.value=t.value,Object(r.isBoolean)(t.checked)&&(this.checked=t.checked),Object(r.isBoolean)(t.collapsed)&&(this.collapsed=t.collapsed),Object(r.isBoolean)(t.disabled)&&(this.disabled=t.disabled),!Object(r.isNil)(t.children)&&t.children.length>0&&(this.children=t.children.map(function(t){return!0===i.disabled&&(t.disabled=!0),new e(t)})),n&&this.correctChecked(),Object(r.isBoolean)(t.disableChildrenCheck)&&(this.disableChildrenCheck=t.disableChildrenCheck),Object(r.isBoolean)(t.disableItemCheck)&&(this.disableItemCheck=t.disableItemCheck)}return Object.defineProperty(e.prototype,"checked",{get:function(){return this.internalChecked},set:function(e){this.internalDisabled||this.internalChecked!==e&&(this.internalChecked=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return void 0===this.checked},enumerable:!0,configurable:!0}),e.prototype.setCheckedRecursive=function(e){this.internalDisabled||(this.internalChecked=e,Object(r.isNil)(this.internalChildren)||this.internalChildren.forEach(function(t){return t.setCheckedRecursive(e)}))},Object.defineProperty(e.prototype,"disabled",{get:function(){return this.internalDisabled},set:function(e){this.internalDisabled!==e&&(this.internalDisabled=e,Object(r.isNil)(this.internalChildren)||this.internalChildren.forEach(function(t){return t.disabled=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.internalCollapsed},set:function(e){this.internalCollapsed!==e&&(this.internalCollapsed=e)},enumerable:!0,configurable:!0}),e.prototype.setCollapsedRecursive=function(e){this.internalCollapsed=e,Object(r.isNil)(this.internalChildren)||this.internalChildren.forEach(function(t){return t.setCollapsedRecursive(e)})},Object.defineProperty(e.prototype,"children",{get:function(){return this.internalChildren},set:function(e){if(this.internalChildren!==e){if(!Object(r.isNil)(e)&&0===e.length)throw new Error("Children must be not an empty array");if(this.internalChildren=e,!Object(r.isNil)(this.internalChildren)){var t=null;this.internalChildren.forEach(function(e){if(null===t)t=e.checked;else if(e.checked!==t)return void(t=void 0)}),this.internalChecked=t}}},enumerable:!0,configurable:!0}),e.prototype.getSelection=function(){var e=[],t=[];if(Object(r.isNil)(this.internalChildren))this.internalChecked?e.push(this):t.push(this);else{var n=i.a.concatSelection(this.internalChildren,e,t);e=n.checked,t=n.unchecked}return{checkedItems:e,uncheckedItems:t}},e.prototype.correctChecked=function(){this.internalChecked=this.getCorrectChecked()},e.prototype.getCorrectChecked=function(){var e=null;if(Object(r.isNil)(this.internalChildren))e=this.checked;else for(var t=0,n=this.internalChildren;t<n.length;t++){var i=n[t];if(i.internalChecked=i.getCorrectChecked(),null===e)e=i.internalChecked;else if(e!==i.internalChecked){e=void 0;break}}return e},e}()},oK6n:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("D57K"),i=n("pN2L"),a=(n("cOhl"),n("AouM")),o=n("G2Mx"),s=n("Jg5f"),l=(n("5xGT"),n("QoSw"),function(){function e(e,t,n){this.styleLoader=e,this.state=t,this.ll=n,this.documentStylesArraySize=14}return Object.defineProperty(e.prototype,"locator",{get:function(){return this.ll.forCurrent(!1)},enumerable:!0,configurable:!0}),e.prototype.getFeatureData=function(e,t){var n=this,i=this.state.get("Selected");return this.locator.getDiagramOnce().pipe(Object(a.a)(function(e){return n.styleLoader.getPalattes().pipe(Object(o.a)(1),Object(s.a)(function(t){var a,o,s={palettes:[]},l=!0;try{for(var c=r.k(i),u=c.next();!u.done;u=c.next()){var p=u.value;if(!e.shapes[p].isConnector()){l=!1;break}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}var d=[];return l?d=n.styleLoader.getDocumentLinePalette().styles.slice():(d=n.styleLoader.getDocumentPalette().styles.slice(),s.palettes.push({id:"fillColor",title:"Fill Color",icon:"fill-solid",palette:t.find(function(e){return"metro"===e.name})})),s.documentStyles=[],n.sortAndSliceStyles(i,e,d).map(function(e){s.documentStyles.push({style:e,selected:!1})}),1===i.length&&(s.documentStyles[0].selected=!0),s.palettes.push({id:"lineColor",title:"Line Color",icon:"fill-line",palette:t.find(function(e){return"metro-lined"===e.name})}),s.palettes.push({id:"lineStyle",title:"Line Style",icon:"fill-dotted",palette:t.find(function(e){return"dotted"===e.name})}),s}))}))},e.prototype.sortAndSliceStyles=function(e,t,n){var i,a,o=[],s=function(e){var r=t.shapes[e],i=n.findIndex(function(e){return e.id===r.style.id});if(!(o.length<l.documentStylesArraySize&&n.length>0))return"break";o.push(n.splice(i,1)[0])},l=this;try{for(var c=r.k(e),u=c.next();!u.done;u=c.next()){if("break"===s(u.value))break}}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.concat(n).slice(0,this.documentStylesArraySize)},e.prototype.isEnabled=function(e){var t=this.state.get("Selected");return this.locator.getDiagramOnce().pipe(Object(s.a)(function(e){var n,i;try{for(var a=r.k(t),o=a.next();!o.done;o=a.next()){var s=o.value,l=e.shapes[s];if(l&&(l.isConnector()||l.isStyleEnabledShape()))return!0}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1}))},e.prototype.getApplyData=function(e){return Object(i.a)({style:e,format:{indexStart:0,styles:{color:e.textColor}}})},e}())},qMyy:function(e,t,n){"use strict";var r=n("D57K"),i=n("Jzy8"),a=n("5xGT"),o=n("xnGY"),s=n("hX56"),l=n("G2Mx"),c=n("z5yO"),u=n("AouM"),p=n("oyCe"),d=function(e){function t(t,n){var r=e.call(this)||this;return r.modelSubManager=t,r.dataStore=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),t.prototype.execute=function(){var e=this;return this.dataStore.findOneRaw(p.a,{id:this.resourceId}).pipe(Object(l.a)(1),Object(c.a)(function(e){return e&&e.project&&"home"!==e.project}),Object(u.a)(function(t){return e.modelSubManager.start(i.i,t.project)}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[o.d,s.b])],t)}(a.a);Object.defineProperty(d,"name",{value:"StartDiagramProjectSubscription"});var f=n("ktZS"),h=n("981U"),g=n("U3QC"),b=function(e){function t(t,n){var r=e.call(this,n)||this;return r.modelSubManager=t,r.router=n,r}return r.d(t,e),t.prototype.execute=function(){var e=this;return this.resultData=this.data,this.modelSubManager.start(f.a,this.data.status.input.resourceId).pipe(Object(u.a)(function(e){return e.status}),Object(c.a)(function(e){return e.subStatus!==o.e.created}),Object(l.a)(1),Object(g.a)(function(t){e.navigateToRoute(e.data.status),t.subStatus===o.e.errored&&e.log.error("There was an error starting the diagram subscription : "+t.error)}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[o.d,h.m])],t)}(a.e);Object.defineProperty(b,"name",{value:"StartDiagramSubscription"});var m=n("yn08"),v=n("C5+t"),y=function(e){function t(t){var n=e.call(this)||this;return n.state=t,n}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{status:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IStateChangeCommand","IMessageCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"states",{get:function(){return this.data},enumerable:!0,configurable:!0}),t.prototype.execute=function(){var e=this,t=this.data.status.input.action;return this.data={Realtime:{action:""}},t===m.a.Edit&&(this.data.Realtime.action="ACTIVITIES.EDITING"),t===m.a.View&&(this.data.Realtime.action="ACTIVITIES.VIEWING"),this.state.getShared().forEach(function(t){return e.data[t]=e.state.get(t)}),!0},t=r.c([Object(a.l)(),r.f("design:paramtypes",[a.Z])],t)}(v.b);Object.defineProperty(y,"name",{value:"BeginStateSync"});var w=n("d62g"),C=n("gQst"),x=n("8Fqk"),S=n("d9YI"),F=n("4y1S"),O=function(e){function t(t,n){var r=e.call(this)||this;return r.dataStore=t,r.modelSubManager=n,r}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{collabs:!0,diagramId:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand","ICollabCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){this.data.collabs.forEach(function(e){e.addedStatus="pending"})},t.prototype.execute=function(){return this.dataStore.getModelStore(i.f).storageMergeCollabs(this.data.diagramId,this.data.collabs)},t.prototype.executeResult=function(e){var t=this,n=this.dataStore.getModelStore(i.f),a=[],s=e.collabs;return s.forEach(function(e,n){e&&(a.push(t.modelSubManager.start(F.f,e.id).pipe(Object(u.a)(function(e){return e.status}),Object(c.a)(function(e){return e.subStatus!==o.e.created}),Object(l.a)(1))),t.data&&(s[n].email=t.data.collabs[n].email))}),s.length>0?Object(w.a)(C.a.apply(void 0,r.j(a)),Object(x.a)(function(){return n.storageMergeCollabs(t.resourceId,s.filter(function(e){return null!==e}))}),Object(x.a)(function(){return t.removePendingCollabs()})):Object(S.b)()},t.prototype.removePendingCollabs=function(){return this.dataStore.getModelStore(i.f).storageFilterCollabs(this.resourceId,function(e){return"pending"===e.addedStatus})},t.prototype.revert=function(){return this.removePendingCollabs()},t=r.c([Object(a.l)(),r.f("design:paramtypes",[s.b,o.d])],t)}(v.b);Object.defineProperty(O,"name",{value:"AddDiagramCollaborators"});var D=n("pN2L"),j=n("Jg5f"),A=function(e){function t(t){var n=e.call(this)||this;return n.dataStore=t,n}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{collabs:!0,diagramId:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.previousData={},this.dataStore.getModelStore(i.f).getCollabs(this.data.diagramId).pipe(Object(g.a)(function(t){e.previousData.collabs=t.filter(function(t){return-1!==e.data.collabs.map(function(e){return e.id}).indexOf(t.id)})}))},t.prototype.execute=function(){var e=this,t=this.dataStore.getModelStore(i.f);return Object(D.a)(this.previousData.collabs).pipe(Object(j.a)(function(t){var n=[];return e.data.collabs.forEach(function(e){var r=t.filter(function(t){return t.id===e.id})[0];r.role=e.role,n.push(r)}),n}),Object(u.a)(function(n){return t.storageMergeCollabs(e.data.diagramId,n)}))},t.prototype.executeResult=function(e){return this.dataStore.getModelStore(i.f).storageMergeCollabs(this.resourceId,e.collabs)},t.prototype.revert=function(){return this.dataStore.getModelStore(i.f).storageMergeCollabs(this.data.diagramId,this.previousData.collabs)},t=r.c([Object(a.l)(),r.f("design:paramtypes",[s.b])],t)}(v.b);Object.defineProperty(A,"name",{value:"ChangeDiagramCollaborators"});var I=function(e){function t(t,n){var r=e.call(this)||this;return r.dataStore=t,r.modelSubManager=n,r}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{diagramId:!0,collabIds:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand","ICollabCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.previousData={},this.dataStore.getModelStore(i.f).getCollabs(this.data.diagramId).pipe(Object(g.a)(function(t){e.previousData.collabs=t.filter(function(t){return-1!==e.data.collabIds.indexOf(t.id)})}))},t.prototype.execute=function(){var e=this;return this.dataStore.getModelStore(i.f).storageFilterCollabs(this.data.diagramId,function(t){return e.data.collabIds.indexOf(t.id)>-1})},t.prototype.executeResult=function(e){var t=this.dataStore.getModelStore(i.f),n=[];this.previousData&&(n=this.previousData.collabs.filter(function(t){return-1===e.collabIds.indexOf(t.id)}));var r=Object(S.b)();n.length>0&&(r=t.storageMergeCollabs(this.data.diagramId,n));var a=t.storageFilterCollabs(this.resourceId,function(t){return e.collabIds.indexOf(t.id)>-1}),o=this.stopSubscriptions(e.collabIds);return Object(C.a)(r,a,o)},t.prototype.stopSubscriptions=function(e){var t=this;return Object(D.a)(e).pipe(Object(u.a)(function(e){var n=[];return e.forEach(function(e){e&&n.push(t.modelSubManager.stop(e))}),C.a.apply(void 0,r.j(n))}))},t.prototype.revert=function(){return this.dataStore.getModelStore(i.f).storageMergeCollabs(this.data.diagramId,this.previousData.collabs)},t=r.c([Object(a.l)(),r.f("design:paramtypes",[s.b,o.d])],t)}(v.b);Object.defineProperty(I,"name",{value:"RemoveDiagramCollaborators"});var k=function(e){function t(t){var n=e.call(this)||this;return n.dataStore=t,n}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{privacy:!0,diagramId:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.previousData={},this.dataStore.getModelStore(i.f).getPrivacy(this.data.diagramId).pipe(Object(g.a)(function(t){return e.previousData.privacy=t}))},t.prototype.execute=function(){var e=this,t=this.dataStore.getModelStore(i.f);return Object(D.a)(this.previousData.privacy).pipe(Object(j.a)(function(t){return t.role=e.data.privacy.role,t.level=e.data.privacy.level,t}),Object(u.a)(function(n){return t.storgaeUpdatePrivacy(e.data.diagramId,n)}))},t.prototype.executeResult=function(e){return this.dataStore.getModelStore(i.f).storgaeUpdatePrivacy(this.resourceId,e.privacy)},t.prototype.revert=function(){return this.dataStore.getModelStore(i.f).storgaeUpdatePrivacy(this.data.diagramId,this.previousData.privacy)},t=r.c([Object(a.l)(),r.f("design:paramtypes",[s.b])],t)}(v.b);Object.defineProperty(k,"name",{value:"ChangeDiagramPrivacy"});var E=function(e){function t(t,n){var r=e.call(this)||this;return r.modelSubManager=t,r.dataStore=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),t.prototype.execute=function(){var e=this;return this.dataStore.findOneRaw(p.a,{id:this.resourceId}).pipe(Object(l.a)(1),Object(c.a)(function(e){return!!(e&&e.collabs&&e.collabs.length>0)}),Object(u.a)(function(t){return C.a.apply(void 0,r.j(t.collabs.map(function(t){return e.modelSubManager.start(F.f,t.id)})))}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[o.d,s.b])],t)}(a.a);Object.defineProperty(E,"name",{value:"StartDiagramCollabSubscriptions"});var P=n("QoSw"),T=n("iJR/"),B=n("uCT2"),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.execute=function(){return this.triggerDownload()},t.prototype.triggerDownload=function(){return Object(T.a)(B(this.data.content,this.data.name))},t=r.c([Object(a.l)()],t)}(a.a);Object.defineProperty(L,"name",{value:"AbstractDiagramExportCommand"});var _=function(e){function t(t,n){var r=e.call(this)||this;return r.ll=t,r.state=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.ll.forCurrent(this.eventData.scenario===a.p.PREVIEW).getDiagramOnce().pipe(Object(g.a)(function(t){var n=e.state.get("DiagramCanvas"),r=t.getBounds();n.cache(r.x-20,r.y-20,r.width+40,r.height+40,2);var i=n.getCacheDataURL();n.uncache(),e.data={content:i,name:t.name+".png"}}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[P.a,a.Z])],t)}(L);Object.defineProperty(_,"name",{value:"ExportAsPng"});var M=n("19Zn"),N=function(e){function t(t,n){var r=e.call(this)||this;return r.ll=t,r.resources=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this,t=this.ll.forCurrent(this.eventData.scenario===a.p.PREVIEW),n=this.createDiagramSVGView(t);return t.getDiagramOnce().pipe(Object(u.a)(function(t){return Object(w.a)(Object(x.a)(function(){return n.populateDiagram()}),Object(x.a)(function(){return n.toSvg().pipe(Object(l.a)(1),Object(g.a)(function(n){return e.data={content:n,name:t.name+".svg"}}))}))}))},t.prototype.createDiagramSVGView=function(e){return new M.k(e,this.resources)},t=r.c([Object(a.l)(),r.f("design:paramtypes",[P.a,a.U])],t)}(L);Object.defineProperty(N,"name",{value:"ExportAsSvg"});var G=n("LZFb"),R=function(e){function t(t,n,r,i){var a=e.call(this,n,r)||this;return a.state=t,a.dataStore=n,a.modelSubManager=r,a.router=i,a}return r.d(t,e),t.prototype.executeResult=function(t){var n=this;return e.prototype.executeResult.call(this,t).pipe(Object(g.a)(function(){n.resourceId===n.state.get("CurrentDiagram")&&n.router.navigateByUrl("../manage/recent")}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[a.Z,s.b,o.d,h.m])],t)}(i.a);Object.defineProperty(R,"name",{value:"DeleteDiagram"});var U=n("d9KY"),W=function(e){function t(t,n){var r=e.call(this)||this;return r.ll=t,r.state=n,r}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["ICommand"]},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.ll.forCurrent(this.eventData.scenario===a.p.PREVIEW).getDiagramOnce().pipe(Object(g.a)(function(t){var n=e.state.get("DiagramCanvas"),r=t.getBounds();n.cache(r.x-20,r.y-20,r.width+40,r.height+40,2);var i=n.cacheCanvas,a=i.cloneNode(!0),o=a.getContext("2d");o.fillStyle="#FFF",o.fillRect(0,0,a.width,a.height),o.drawImage(i,0,0);var s=a.toDataURL("image/jpg",1);n.uncache(),e.data={content:s,name:t.name+".jpg"}}))},t=r.c([Object(a.l)(),r.f("design:paramtypes",[P.a,a.Z])],t)}(L);Object.defineProperty(W,"name",{value:"ExportAsJpeg"});var V=n("g3Dv"),z=n("Wpmq"),Y=n("3+4Q"),K=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.ll=t,a.v2d=n,a.ds=r,a.state=i,a}return r.d(t,e),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand","ICollabCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.data.comment.diagramId=this.resourceId,this.data.comment.userId=this.state.get("CurrentUser"),this.data.comment.added=Date.now(),this.data.comment.parentId?(delete this.data.comment.shapeId,delete this.data.comment.locOnDiagram,Object(S.b)()):this.data.comment.shapeId?this.ll.forCurrent(!1).getShapeOnce(this.data.comment.shapeId).pipe(Object(g.a)(function(t){if(t.type!==V.l.Connector){var n=t.getPositionOnShape(e.data.comment.locOnDiagram,5);e.data.comment.locOnShape=n}else delete e.data.comment.shapeId})):Object(S.b)()},t.prototype.execute=function(){return this.ds.insert(Y.a,this.data.comment)},t.prototype.executeResult=function(){var e=r.a({},this.resultData.comment,{diagramId:this.resourceId,comitted:!0});return this.ds.insert(Y.a,e)},t=r.c([Object(a.l)(),r.f("design:paramtypes",[P.a,z.a,s.b,a.Z])],t)}(v.b);Object.defineProperty(K,"name",{value:"AddComment"});var q=function(e){function t(t){var n=e.call(this)||this;return n.dataStore=t,n}return r.d(t,e),Object.defineProperty(t,"dataDefinition",{get:function(){return{commentId:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"implements",{get:function(){return["IMessageCommand","IDiagramCommand","ICollabCommand"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.prepareData=function(){var e=this;return this.previousData={},this.dataStore.findOne(Y.a,{id:this.data.commentId,diagramId:this.resourceId}).pipe(Object(l.a)(1),Object(g.a)(function(t){return e.previousData.comment=t.comment}))},t.prototype.execute=function(){return this.dataStore.update(Y.a,{id:this.data.commentId,diagramId:this.resourceId},{$set:{deleted:(new Date).getTime(),comitted:!1},$unset:{comment:""}})},t.prototype.executeResult=function(e){return this.dataStore.update(Y.a,{id:this.data.commentId,diagramId:this.resourceId},{$set:{deleted:e.comment.deleted,comitted:!0},$unset:{comment:""}})},t.prototype.revert=function(){return this.dataStore.update(Y.a,{id:this.data.commentId,diagramId:this.resourceId},{$set:{comment:this.previousData.comment},$unset:{deleted:""}})},t=r.c([Object(a.l)(),r.f("design:paramtypes",[s.b])],t)}(v.b);Object.defineProperty(q,"name",{value:"DeleteComment"});var J=n("zd2y"),H=function(e){function t(t,n){var r=e.call(this)||this;return r.resourceId=t,r.datastore=n,r}return r.d(t,e),Object.defineProperty(t.prototype,"subscription",{get:function(){return"Comment"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modelType",{get:function(){return Y.a},enumerable:!0,configurable:!0}),t.prototype.getLatestSyncedTime=function(){var e={id:this.resourceId};return this.datastore.findOneLatest(Y.a,e,{sort:{lastUpdated:-1}}).pipe(Object(j.a)(function(e){return e?e.lastUpdated:null}))},t}(o.b),Z=function(e){function t(t,n){var r=e.call(this)||this;return r.commentSub=t,r.datastore=n,r}return r.d(t,e),t.prototype.execute=function(){var e=new H(this.resourceId,this.datastore);return this.commentSub.start(e),!0},t=r.c([Object(a.l)(),r.f("design:paramtypes",[J.a,s.b])],t)}(a.a);Object.defineProperty(Z,"name",{value:"StartDiagramCommentSubscription"}),n.d(t,"a",function(){return Q});var Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.register=function(e){e.mapSequence(t.startDiagramSubscription).add(b),e.mapSequence(t.startDiagramSubscriptionAndDeps).add(b).add(y,{alter:function(e){return!0}}).add(E).add(Z).add(d),e.mapSequence(t.addDiagramCollaborators).add(O),e.map(t.removeDiagramCollaborators).add(I),e.map(t.changeDiagramCollaborators).add(A),e.mapSequence(t.changeDiagramPrivacy).add(k),e.mapSequence(t.exportAsPng).add(_),e.mapSequence(t.exportAsJpeg).add(W),e.mapSequence(t.exportAsSvg).add(N),e.map(t.deleteDiagram).add(R),e.map(t.selectShapes).add(U.a),e.map(t.addComment).add(K),e.map(t.deleteComment).add(q)},t.startDiagramSubscription=new t("StartDiagramSubscription"),t.startDiagramSubscriptionAndDeps=new t("StartDiagramSubscriptionAndDeps"),t.addDiagramCollaborators=new t("AddDiagramCollaborators"),t.changeDiagramCollaborators=new t("ChangeDiagramCollaborators"),t.removeDiagramCollaborators=new t("RemoveDiagramCollaborators"),t.changeDiagramPrivacy=new t("ChangeDiagramPrivacy"),t.exportAsPng=new t("ExportAsPng"),t.exportAsJpeg=new t("ExportAsJpeg"),t.exportAsSvg=new t("ExportAsSvg"),t.selectShapes=new t("SelectShapes"),t.addComment=new t("AddComment"),t.deleteComment=new t("DeleteComment"),t.deleteDiagram=new G.a("DeleteDiagram"),t}(a.c)},r78O:function(e,t,n){"use strict";var r=n("LoAr"),i=n("IfiR"),a=n("WT9V"),o=n("Wrqg");n.d(t,"a",function(){return l}),n.d(t,"b",function(){return h});var s=[[".text-input-inner[_ngcontent-%COMP%]{position:relative}.text-input-clear-btn[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;right:10px}.text-input-item.show-clear[_ngcontent-%COMP%]   .text-input-clear-btn[_ngcontent-%COMP%]{display:inline-block}.text-input-item.show-clear[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{padding-right:30px}.text-input-item.has-icon[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{padding-left:30px}.text-input-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:6px}.text-input-icon[_ngcontent-%COMP%]:hover, .text-input-item[_ngcontent-%COMP%]   .text-input-icon[_ngcontent-%COMP%], .text-input[_ngcontent-%COMP%]:hover + .text-input-icon[_ngcontent-%COMP%]{color:#dcdcdc;cursor:auto}"]],l=r.Db({encapsulation:0,styles:s,data:{}});function c(e){return r.Zb(0,[(e()(),r.Fb(0,0,[[1,0],["inputItem",1]],null,5,"input",[["class","text-input"],["type","text"]],[[8,"placeholder",0],[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"keydown"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,a=e.component;"input"===t&&(i=!1!==r.Pb(e,1)._handleInput(n.target.value)&&i);"blur"===t&&(i=!1!==r.Pb(e,1).onTouched()&&i);"compositionstart"===t&&(i=!1!==r.Pb(e,1)._compositionStart()&&i);"compositionend"===t&&(i=!1!==r.Pb(e,1)._compositionEnd(n.target.value)&&i);"ngModelChange"===t&&(i=!1!==(a.value=n)&&i);"input"===t&&(i=!1!==a.onInputChange(a.inputText)&&i);"keydown"===t&&(i=!1!==a.onKeydown(n)&&i);"blur"===t&&(i=!1!==a.onBlur(a.inputText)&&i);return i},null,null)),r.Eb(1,16384,null,0,i.c,[r.P,r.o,[2,i.a]],null,null),r.Ub(1024,null,i.e,function(e){return[e]},[i.c]),r.Eb(3,671744,null,0,i.h,[[8,null],[8,null],[8,null],[6,i.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),r.Ub(2048,null,i.f,null,[i.h]),r.Eb(5,16384,null,0,i.g,[[4,i.f]],null,null)],function(e,t){var n=t.component;e(t,3,0,n.disabled,n.value)},function(e,t){var n=t.component;e(t,0,0,n.placeholder,n.readonly,r.Pb(t,5).ngClassUntouched,r.Pb(t,5).ngClassTouched,r.Pb(t,5).ngClassPristine,r.Pb(t,5).ngClassDirty,r.Pb(t,5).ngClassValid,r.Pb(t,5).ngClassInvalid,r.Pb(t,5).ngClassPending)})}function u(e){return r.Zb(0,[(e()(),r.Fb(0,0,[[1,0],["inputItem",1]],null,1,"div",[["class","text-input-multilined"],["contenteditable","true"]],[[1,"data-placeholder",0]],[[null,"input"],[null,"keydown"],[null,"blur"]],function(e,t,n){var r=!0,i=e.component;"input"===t&&(r=!1!==i.onInputChange(i.text)&&r);"keydown"===t&&(r=!1!==i.onKeydown(n)&&r);"blur"===t&&(r=!1!==i.onBlur(i.text)&&r);return r},null,null)),(e()(),r.Xb(1,null,["",""]))],null,function(e,t){var n=t.component;e(t,0,0,n.placeholder),e(t,1,0,n.value)})}function p(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,1,"div",[["class","text-input-multilined readonly"]],null,null,null,null,null)),(e()(),r.Xb(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.value)})}function d(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.wb(16777216,null,null,1,null,u)),r.Eb(2,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null),(e()(),r.wb(16777216,null,null,1,null,p)),r.Eb(4,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,!n.readonly),e(t,4,0,n.readonly)},null)}function f(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,1,":svg:svg",[["class","text-input-icon nu-icon xmedium-grey"]],null,null,null,null,null)),(e()(),r.Fb(1,0,null,null,0,":svg:use",[],[[1,":xlink:href",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.iconURL)})}function h(e){return r.Zb(2,[r.Vb(671088640,1,{inputElement:0}),(e()(),r.Fb(1,0,null,null,13,"div",[["class","text-input-item"]],[[2,"text-item-inline",null],[2,"show-clear",null],[2,"has-icon",null]],null,null,null,null)),r.Rb(131072,a.b,[r.i]),(e()(),r.Fb(3,0,null,null,1,"label",[["class","grey"]],null,null,null,null,null)),(e()(),r.Xb(4,null,["",""])),(e()(),r.Fb(5,0,null,null,9,"div",[["class","text-input-inner"]],null,null,null,null,null)),(e()(),r.wb(16777216,null,null,1,null,c)),r.Eb(7,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null),(e()(),r.wb(16777216,null,null,1,null,d)),r.Eb(9,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null),(e()(),r.wb(16777216,null,null,1,null,f)),r.Eb(11,16384,null,0,a.k,[r.db,r.Y],{ngIf:[0,"ngIf"]},null),(e()(),r.Fb(12,0,null,null,2,"span",[["class","text-input-clear-btn"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.clear()&&r);return r},null,null)),(e()(),r.Fb(13,0,null,null,1,":svg:svg",[["class","nu-icon nu-icon-small grey"]],null,null,null,null,null)),(e()(),r.Fb(14,0,null,null,0,":svg:use",[[":xlink:href","./assets/icons/symbol-defs.svg#nu-ic-close"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,7,0,!n.multiLined),e(t,9,0,n.multiLined),e(t,11,0,n.icon)},function(e,t){var n=t.component;e(t,1,0,n.inline,!r.Yb(t,1,1,r.Pb(t,2).transform(n.isEmpty))&&n.showClearButton,n.icon),e(t,4,0,n.label)})}r.Bb("text-input",o.a,function(e){return r.Zb(0,[(e()(),r.Fb(0,0,null,null,1,"text-input",[],null,null,null,h,l)),r.Eb(1,245760,null,0,o.a,[],null,null)],function(e,t){e(t,1,0)},null)},{value:"value",label:"label",icon:"icon",showClearButton:"showClearButton",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",inline:"inline",emitForInputChange:"emitForInputChange",debounce:"debounce",multiLined:"multiLined",submitOnBlur:"submitOnBlur",submitOnCode:"submitOnCode",clearOnSubmit:"clearOnSubmit"},{updateText:"updateText",keydown:"keydown",submit:"submit"},[])},r8me:function(e,t,n){"use strict";var r=n("jC5Z"),i=n("hN/v");function a(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}e.exports=function(e){if("string"!=typeof e)throw Error("Argument should be a string");return/^data\:/i.test(e)?function(e){var t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data-URI");for(var n=e.substring(5,t).split(";"),i=!1,o="US-ASCII",s=0;s<n.length;s++)"base64"==n[s]?i=!0:0==n[s].indexOf("charset=")&&(o=n[s].substring(8));var l=unescape(e.substring(t+1));i&&(l=r(l));var c=a(l);return c.type=n[0]||"text/plain",c.charset=o,c}(e):(i(e)&&(e=r(e)),a(e))}},rTjB:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r,i=n("LoAr"),a=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(){function e(){}return e.decorators=[{type:i.v}],e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getText=function(e){if(0===e.uncheckedItems.length)return this.getAllCheckboxText();switch(e.checkedItems.length){case 0:return"Select options";case 1:return e.checkedItems[0].text;default:return e.checkedItems.length+" options selected"}},t.prototype.getAllCheckboxText=function(){return"All"},t.prototype.getFilterPlaceholder=function(){return"Filter"},t.prototype.getFilterNoItemsFoundText=function(){return"No items found"},t.prototype.getTooltipCollapseExpandText=function(e){return e?"Expand":"Collapse"},t.decorators=[{type:i.v}],t}(o)},s9Xn:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("D57K"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t}(n("hSRu").a)},sKtG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("D57K"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t}(n("hSRu").a)},uCT2:function(e,t,n){"use strict";var r=n("kO+N").saveAs,i=n("xyiV"),a=n("75wD")("application/octect-stream"),o=n("/AT2"),s=null;e.exports=function e(t,n,l){if("function"==typeof n&&(l=n,n=null),o(t)||t instanceof File)u=t;else{t=i(t);var c=a(n),u=new Blob([t],{type:c})}return s?s.then(function(){return s=e(t,n,l)},function(e){l&&l(e)}):s=new Promise(function(e,i){r(u,n),window.addEventListener("focus",function n(){s=null,window.removeEventListener("focus",n),l&&l(null,t),e()})})}},ujvC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("SBw3");var r=n("pN2L"),i=function(){function e(e){this.featureList=e}return e.prototype.getFeatureData=function(e,t){var n=this.featureList.getFeature(e);return Object(r.a)({value:t.data,validation:n.data.validation})},e.prototype.getApplyData=function(e){return Object(r.a)({styles:{size:e.value},takeFocus:e.takeFocus})},e}()},vg1f:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("5xGT"),i=n("g3Dv"),a=n("nsO7"),o=n("iUUs"),s=n("gQst"),l=n("mUyW"),c=n("Jg5f"),u=n("z5yO"),p=n("oxTG"),d=(n("SBw3"),n("Fqp3")),f=function(){function e(e,t,n){this.state=e,this.featureList=t,this.commandService=n,this.shortCutFeatures={},this.ignoreFeatureTracking={keyboardSelectionMove:!0,editText:!0},this.registerListeners()}return e.prototype.registerFeatures=function(){var e=this;this.featuresListForCtrlV=[],this.featureList.features.forEach(function(t){e.register(t)})},e.prototype.register=function(e){var t=this;e.shortcuts&&e.shortcuts.forEach(function(n){var r=t.getKeyCombination(n);r&&("keydown-91-86"===r||"keydown-17-86"===r?t.featuresListForCtrlV.push(e):t.addShortCutFeature(r,e))})},e.prototype.unregister=function(e){var t=this,n=this.featureList.getFeature(e);n&&n.shortcuts&&n.shortcuts.forEach(function(e){var r=t.getKeyCombination(e);r&&t.removeShortCutFeature(r,n)})},e.prototype.addShortCutFeature=function(e,t){var n=this.shortCutFeatures[e];if(n&&n.length>0){var r=this.findShortCutFeatureIndex(e,t.id);return r>-1?void n.splice(r,1,t):void n.push(t)}this.shortCutFeatures[e]=[t]},e.prototype.findShortCutFeatureIndex=function(e,t){var n=this.shortCutFeatures[e];return n?n.findIndex(function(e){return e.id===t}):-1},e.prototype.removeShortCutFeature=function(e,t){var n=this.shortCutFeatures[e];if(n&&n.length>0){var r=this.findShortCutFeatureIndex(e,t.id);if(1===n.length&&0===r)return void delete this.shortCutFeatures[e];if(r>-1)return void n.splice(r,1)}},e.prototype.getKeyCombination=function(e){if(e.keySequence&&e.keySequence.length>0){var t=e.action?e.action:"keydown";return e.keySequence.forEach(function(e){t+="-"+e}),t}},e.prototype.registerListeners=function(){var e=this;this.listenForKeyDownEvent().subscribe(function(t){return e.performKeyBoardAction(t.feature,t.event)}),this.listenForKeyUpEvent().subscribe(function(t){return e.performKeyBoardAction(t.feature,t.event)}),this.listenForPasteEvent().subscribe()},e.prototype.listenForPasteEvent=function(){var e=this;return Object(o.a)(document,"paste").pipe(Object(c.a)(function(t){e.executePaste(t)}))},e.prototype.executePaste=function(e){var t=this;this.featuresListForCtrlV.forEach(function(n){for(var r=[],i=e.clipboardData.items,a=0;a<i.length;a++)if(i[a].getAsFile())r.push(i[a].getAsFile());else{var o=t.getJsonString(e.clipboardData.getData(i[a].type));o&&(r=r.concat(o))}r&&r.length>0&&t.commandService.dispatch(n.commandEvent,r)})},e.prototype.getJsonString=function(e){try{return JSON.parse(e)}catch(t){return null}},e.prototype.listenForKeyDownEvent=function(){return Object(s.a)(this.listenForKeyBoardEvent("keydown",!1),this.listenForKeyHoldDown()).pipe(Object(c.a)(function(e){e.keySequence;return{feature:e.feature,event:e.event}}))},e.prototype.listenForKeyUpEvent=function(){return this.listenForKeyBoardEvent("keyup",!1).pipe(Object(c.a)(function(e){e.keySequence;return{feature:e.feature,event:e.event}}))},e.prototype.listenForKeyBoardEvent=function(e,t){var n=this;return Object(o.a)(window,e).pipe(Object(u.a)(function(e){return e.repeat===t}),Object(c.a)(function(t){var r=n.composeKeySequence(t),i=n.getKeyCombination({keySequence:r,action:e}),a=n.getShortcutFeature(i,n.getFocusContext(t.target));return a&&t.preventDefault(),{keySequence:r,feature:a,event:t}}),Object(u.a)(function(e){return void 0!==e.feature}))},e.prototype.listenForKeyHoldDown=function(){var e=this;return this.listenForKeyBoardEvent("keydown",!0).pipe(Object(c.a)(function(t){var n=e.getDurationToRepeatOnKeypress(t.feature.shortcuts,t.keySequence);if(n>0)return{feature:t,repeatTime:n}}),Object(u.a)(function(e){return void 0!==e}),Object(p.b)(function(e){return Object(l.a)(e.repeatTime)}),Object(c.a)(function(e){return e.feature}))},e.prototype.getDurationToRepeatOnKeypress=function(e,t){var n=e.find(function(e){return Object(a.isEqual)(e.keySequence,t)});return n.repeatOnKeyPress?n.repeatOnKeyPress:0},e.prototype.performKeyBoardAction=function(e,t){this.ignoreFeatureTracking[e.id]||r.bb.track("keyboard.shortcut.keypress",{value1Type:"shortCut",value1:e.shortcutText,value2Type:"featureId",value2:e.id});var n=Object(a.cloneDeep)(e.data||{});e.attachKeyEventToData&&(n.keyboardEvent=t),this.commandService.dispatch(e.commandEvent,n)},e.prototype.composeKeySequence=function(e){var t=[];return e.metaKey&&t.push(i.e.Command),e.ctrlKey&&t.push(i.e.Control),e.altKey&&t.push(i.e.Alt),e.shiftKey&&t.push(i.e.Shift),this.isModifierKeyOnlyPressed(e)||t.push(e.keyCode),t},e.prototype.isModifierKeyOnlyPressed=function(e){return!!(e.getModifierState("Alt")&&e.keyCode===i.e.Alt||e.getModifierState("Shift")&&e.keyCode===i.e.Shift||e.getModifierState("Ctrl")&&e.keyCode===i.e.Control||e.getModifierState("Meta")&&e.keyCode===i.e.Command)},e.prototype.getShortcutFeature=function(e,t){var n=this.shortCutFeatures[e];if(n&&n.length>0)return n.find(function(e){return t===d.a.CanvasSelected?e.context===t||e.context===d.a.Canvas||e.context===d.a.All:e.context===t||e.context===d.a.All})},e.prototype.getFocusContext=function(e){var t=e.tagName.toLowerCase();if("canvas"===t){var n=this.state.get("Selected");return n&&n.length?d.a.CanvasSelected:d.a.Canvas}return this.checkIsTextEditable(e)?d.a.Text:"body"===t?(this.changeFocus(d.a.Canvas),d.a.Canvas):d.a.Canvas},e.prototype.checkIsTextEditable=function(e){var t=e.tagName.toLowerCase();return"input"===t&&["text","password","search","email","number","tel","url"].indexOf(e.type)>-1||"textarea"===t||"div"===t&&!0===e.isContentEditable},e.prototype.changeFocus=function(e){if(e===d.a.Canvas){var t=document.getElementById("interaction-area-canvas");t&&t.focus()}},e}()},w5Uk:function(e,t,n){"use strict";var r=n("D57K");!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r.d(t,e)}(n("5xGT").Z)},wOpJ:function(e,t,n){"use strict";var r=n("D57K"),i=n("5xGT"),a=n("h1tj"),o=n("C0rp"),s=function(e){function t(t){var n=e.call(this)||this;return n._doc=o.document(t),n}return r.d(t,e),Object.defineProperty(t.prototype,"text",{set:function(e){this._text=e},enumerable:!0,configurable:!0}),t.prototype.setDefaultStyles=function(e){this._doc.setDefaultStyles(e)},t.prototype.draw=function(t,n){if(void 0===n&&(n=!1),this._text)return!!e.prototype.draw.call(this,t,n)||(this._doc.load(this._text),this._doc.width(this.lineWidth),this._doc.draw(t),!0)},t.prototype.getBounds=function(){return new a.Rectangle(0,0,this._doc.frame.actualWidth(),this._doc.frame.actualHeight())},t}(a.DisplayObject),l=n("g3Dv");n.d(t,"a",function(){return c});var c=function(e){function t(t){var n=e.call(this,l.b)||this;return n.cachedBounds=null,n.name=t.id,n.hitArea=new a.Shape,n.update(t),n}return r.d(t,e),t.prototype.getCursor=function(e){return e.includes("editor")&&e.includes("normal")&&e.includes("selected")?{cursor:"text",tail:null,type:"css"}:{cursor:"default",tail:null,type:"css"}},t.prototype.updateHitArea=function(e,t){var n=i.R.from(t),r=this.hitArea;r.graphics.clear(),r.graphics.beginFill("#000"),e.hitArea?r.graphics.drawRect(void 0!==e.hitArea.x?e.hitArea.x:n.centerX-e.hitArea.width/2,void 0!==e.hitArea.y?e.hitArea.y:n.centerY-e.hitArea.height/2,e.hitArea.width,e.hitArea.height):r.graphics.drawRect(n.x,n.y,n.width,n.height),r.graphics.endFill()},t.prototype.updateViewCache=function(e,n){if(this.cachedBounds&&(this.cachedBounds.width===e.width&&this.cachedBounds.height===e.height?i.K.hasChanges(n,"texts."+e.id+".value")&&this.updateCache():(this.uncache(),this.cachedBounds=null)),!this.cachedBounds){if(!e.width||!e.height)return;this.cache(-t.CACHE_PADDING,-t.CACHE_PADDING,e.width+2*t.CACHE_PADDING,e.height+2*t.CACHE_PADDING,t.CACHE_DENSITY),this.cachedBounds={width:e.width,height:e.height}}},t.prototype.update=function(e,t){this.text=e.value,this.lineWidth=e.width},t.prototype.destroy=function(){this.parent.removeChild(this)},t.prototype.getTextBounds=function(e,t){void 0===t&&(t=1e4);var n=document.createElement("canvas"),r=new s(l.b);return r.text=e,r.lineWidth=t,r.draw(n.getContext("2d")),r.getBounds()},t.CACHE_PADDING=10,t.CACHE_DENSITY=2,t}(s)},wf7V:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("pN2L"),i=n("nsO7"),a=function(){function e(){}return e.prototype.getFeatureData=function(e,t){var n=t.options.map(function(e){return{id:e.id,label:e.label,itemIcon:{type:"image",value:e.icon},buttonIcon:{type:"image",value:e.icon},value:e.id,shapeId:t.shapeId}}),a=Object(i.uniqBy)(n,function(e){return e.id});return a.find(function(e){return e.id===t.selected}).selected=!0,Object(r.a)({value:a})},e.prototype.getApplyData=function(e){var t={changes:{}};return t.changes[e.shapeId]={entryClass:e.value},Object(r.a)(t)},e}()},wk5G:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r,i=n("D57K"),a=n("h1tj");!function(e){e.interactionStart="interaction-start",e.interaction="interaction",e.interactionImmediate="interaction-immediate",e.interactionEnd="interaction-end",e.interactionCancel="interaction-cancel"}(r||(r={}));var o=function(e){function t(t,n,r,i,a){var o=e.call(this,t,!0,!0)||this;return o.type=t,o.handle=r,o.targetOver=i,o.relatedEvent=a,o.interactionName=n,o}return i.d(t,e),t}(a.Event)},wkcE:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("D57K"),i=n("Jzy8"),a=(n("hX56"),n("4y1S")),o=n("nsO7"),s=n("3riI"),l=n("Jg5f"),c=n("lqvn"),u=n("AouM"),p=(n("yn08"),n("QoSw"),function(){function e(e,t,n){this.ll=e,this.dataStore=t,this.sharedState=n}return e.prototype.getCollabs=function(e){var t=this,n=(e?this.ll.forDiagram(e,!1):this.ll.forCurrent(!1)).getDiagramModel().pipe(Object(l.a)(function(e){return e.collabs||[]}),Object(c.a)(o.isEqual),Object(u.a)(function(e){var n=e.map(function(e){return t.dataStore.findOneLatest(a.e,{id:e.id}).pipe(Object(l.a)(function(t){return Object.assign(new i.b(e.id),t,e)}))});return s.b.apply(void 0,r.j(n))}));return Object(s.b)(n,this.sharedState.changes("Realtime")).pipe(Object(l.a)(function(e){var n=r.h(e,2),i=n[0];n[1];return(i=i.map(function(e){return t.addRealtimeData(e)})).slice().sort(function(e,t){return e.roleSortOrder-t.roleSortOrder})}))},e.prototype.addRealtimeData=function(e){var t=this.sharedState.getUser("Realtime",e.id);return e.online=!!t,t=t||{},e.currentActivity=t.action,e.color=t.color,e},e.prototype.getCollabsSortedIgnoringOnline=function(e){return this.getCollabs().pipe(Object(l.a)(function(e){return e.slice().sort(function(e,t){return e.roleSortOrderWithoutOnline-t.roleSortOrderWithoutOnline})}))},e}())},"wx9+":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("D57K"),i=n("3riI"),a=(n("5xGT"),n("Jg5f")),o=n("AouM"),s=n("G2Mx"),l=n("gZOS"),c=(n("w1VY"),n("QoSw"),function(){function e(e,t,n){this.state=e,this.ll=t,this.coordinate=n}return e.prototype.getCoordinateChanges=function(){return Object(i.b)(this.state.changes("DiagramZoomLevel"),this.state.changes("DiagramPan")).pipe(Object(a.a)(function(e){var t=r.h(e,2),n=t[0];return{pan:t[1],zoom:n}}))},e.prototype.getShapeModel=function(e){var t=this;return this.ll.forCurrent(!0).getShapeModel(e).pipe(Object(o.a)(function(n){return t.convertShape(e)}))},e.prototype.getShapeOnce=function(e){return this.convertShape(e).pipe(Object(s.a)(1))},e.prototype.getShapeChanges=function(e){var t=this;return this.ll.forCurrent(!0).getShapeChanges(e).pipe(Object(o.a)(function(e){return t.convertShape(e.model.id).pipe(Object(a.a)(function(t){return{id:e.id,model:t,modifier:e.modifier}}))}))},e.prototype.convertShape=function(e){var t=this;return this.getCoordinateChanges().pipe(Object(o.a)(function(){return t.ll.forCurrent(!0).getShapeOnce(e)}),Object(a.a)(function(e){if(e){var n=l.Sakota.create(e);return n=t.coordinate.shape(n)}return null}))},e}())},xpZS:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("nsO7"),i=n("d9YI"),a=n("C0rp"),o=n("g3Dv"),s=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"TextBoundsBinder"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paths",{get:function(){return["texts","scaleX"]},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=e.__sakota__.getChanges();if(t.$set)return this.shapeScaleXChange(e,t),this.shapeTextsValueChange(e,t),Object(i.b)()},e.prototype.shapeScaleXChange=function(t,n){var i=this,a=function(n){e.regexScaleX.lastIndex=0;var a=e.regexScaleX.exec(n);if(!a)return"continue";var s=a[1],l=t.shapes[s];if(!l.texts)return"continue";Object(r.forEach)(l.texts,function(e,t){var n=l.texts[t];if(!n)return!1;var r=i.getTextBounds(n.content),a=Math.abs(l.defaultBounds.width*l.scaleX),s=n.hitArea?n.hitArea.width-2*o.o:a-2*o.o;if(n.wordWrap&&r.width>s){var c=i.getTextBounds(n.content,s);n.width=c.width,n.height=c.height}else n.width=r.width,n.height=r.height})};for(var s in n.$set)a(s)},e.prototype.shapeTextsValueChange=function(t,n){var i=this,a=function(n){e.regexTexts.lastIndex=0;var a=e.regexTexts.exec(n);if(!a)return"continue";var s=a[1],l=t.shapes[s];Object(r.forEach)(l.texts,function(e,t){var n=l.texts[t],r=i.getTextBounds(n.content),a=2*o.o,s=Math.abs(n.hitArea?n.hitArea.width:l.width)-a;if(n.wordWrap&&r.width>s){var c=i.getTextBounds(n.content,s);n.width=c.width,n.height=c.height}else n.width=r.width,n.height=r.height})};for(var s in n.$set)a(s)},e.prototype.getTextBounds=function(e,t){return void 0===t&&(t=1e4),a.bounds(e,t,o.b)},e.regexScaleX=/shapes\.([^\.]+)\.scaleX/g,e.regexTexts=/shapes\.([^\.]+)\.texts\.([^\.]+)\.content/g,e}()},xyiV:function(e,t,n){"use strict";var r=n("r8me"),i=n("Ldd8");e.exports=function e(t){if(!t)return new ArrayBuffer;if(t instanceof ArrayBuffer)return t;if("string"==typeof t)return r(t);if(ArrayBuffer.isView(t))return null!=t.byteOffset?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t.buffer;if(t.buffer||t.data||t._data)return e(t.buffer||t.data||t._data);if(null!=t.length)for(var n=0;n<t.length;n++)if(null!=t[n].length){t=i(t);break}return new Uint8Array(null!=t.length?t:[t]).buffer}},yZNT:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("D57K"),i=n("nsO7"),a=n("3riI"),o=n("Jg5f"),s=function(){function e(){this.searchProviders={shape:[],image:[]}}return e.prototype.register=function(e){this.searchProviders[e.type].push(e)},e.prototype.search=function(e,t){var n=this,s=Object(i.flatten)(t.map(function(e){return n.searchProviders[e]}));return a.b.apply(void 0,r.j(s.map(function(t){return t.search(e)}))).pipe(Object(o.a)(function(e){return Object(i.flatten)(e)}))},e}()},z3tU:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("pN2L"),i=n("5xGT"),a=n("Jg5f"),o=n("U3QC"),s=function(){function e(e){this.loader=e}return Object.defineProperty(e.prototype,"definitionSummaryKey",{get:function(){return i.h.get("RESOURCE_LOCATION")+i.h.get("SHAPE_RESOURCE_BASE")+"def-sum.json"},enumerable:!0,configurable:!0}),e.prototype.getDefinitions=function(e){var t=this;return this.loadingObservable?this.loadingObservable.pipe(Object(a.a)(function(){return t.findMany(e)})):Object(r.a)(this.findMany(e))},e.prototype.getDefinition=function(e){var t=this;return this.loadingObservable?this.loadingObservable.pipe(Object(a.a)(function(){return t.findOne(e)})):Object(r.a)(this.findOne(e))},e.prototype.load=function(){var e=this;return this.loadingObservable=this.loader.forceLoad(this.definitionSummaryKey).pipe(Object(a.a)(function(t){return e.loadedDefinitionSummery=t.defs})),this.loadingObservable.pipe(Object(o.a)({complete:function(){return e.loadingObservable=void 0}}))},e.prototype.findOne=function(e){var t=this;return this.loadedDefinitionSummery.find(function(n){return e===t.getFullyQualifiedDefId(n)})},e.prototype.findMany=function(e){var t=this;return e.map(function(e){return t.loadedDefinitionSummery.find(function(n){return t.getFullyQualifiedDefId(n)===e})}).filter(function(e){return!!e})},e.prototype.getFullyQualifiedDefId=function(e){return e.defId+"."+e.version},e}()},zFpY:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("pN2L"),i=function(){function e(){}return e.prototype.getFeatureData=function(e,t){var n=t.options.map(function(e){return{id:e.id,label:e.label,buttonLabel:e.label,value:{defId:e.defId,version:e.version},shapeId:t.shapeId}});return n.find(function(e){return e.id===t.selected}).selected=!0,Object(r.a)({value:n})},e.prototype.getApplyData=function(e){var t;return Object(r.a)({changes:(t={},t[e.shapeId]=e.value,t),updateDefinitions:!0,updateConnections:!0})},e}()},zd2y:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("D57K"),i=(n("C5+t"),n("5xGT"),n("xnGY")),a=n("8Fqk"),o=n("d9YI"),s=n("cQOC"),l=n("G2Mx"),c=n("AouM"),u=function(e){function t(t,n,r,i,a){var o=e.call(this,t)||this;return o.logger=t,o.messageFactory=n,o.authentication=r,o.commandService=i,o.neutrinoConnection=a,o}return r.d(t,e),t.prototype.startSubscription=function(e){var t=this;return this.logger.debug("SubscriptionService: starting subscription: "+e.resourceId),Object(a.a)(function(){return e.getLatestSyncedTime().pipe(Object(l.a)(1))}).pipe(Object(c.a)(function(n){return t.sendSubStartRequest(e,n)}),Object(c.a)(function(n){return t.handleSubStartResponse(e,n)}))},t.prototype.closeSubscription=function(e){return this.logger.debug("SubscriptionService: closing subscription: "+e.resourceId),this.sendSubEndRequest(e)},t.prototype.sendSubStartRequest=function(e,t){var n=this.messageFactory.createSubscriptionMessage("start",e.subscription,e.resourceId);return n.authToken=this.authentication.token,n.payload=t?{latestCommentTimestamp:t}:{},this.neutrinoConnection.send(n)},t.prototype.sendSubEndRequest=function(e){var t=this.messageFactory.createSubscriptionMessage("end",e.subscription,e.resourceId);return t.authToken=this.authentication.token,t.payload={},this.neutrinoConnection.send(t)},t.prototype.handleSubStartResponse=function(e,t){var n=t.ppld,r=[];if(n.comments){var i={type:e.modelType,data:{model:n.comments}};r.push(this.commandService.collab("SubStoreModels",t.rid,null,i))}return r.length?Object(s.a)(r):Object(o.b)()},t}(i.c)},zsv6:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Jg5f"),i=(n("SBw3"),n("5xGT"),n("pN2L")),a=(n("QoSw"),function(){function e(e,t,n){this.ll=e,this.state=t,this.featureList=n}return e.prototype.getFeatureData=function(e,t){var n=this;void 0===t&&(t={});var i=this.featureList.getFeature(e),a=this.state.get("Selected");return this.ll.forCurrent(!1).getDiagramOnce().pipe(Object(r.a)(function(r){if(t.params={readOnly:i.data.readOnly},"selectionAngle"===e&&1===a.length){var o=r.getShape(a[0]).angle;return t.value=Math.round(o),t}return t.value=n.getUIData(e,r),t}))},e.prototype.getUIData=function(e,t){var n=this.state.get("Selected"),r=t.getShape(n[0]);if(!r)return"-";if(r.isConnector()){var i=r;if("connectorStartX"===e){var a=i.path[i.path.headId];return this.formatPixelValue(a.x)}if("connectorStartY"===e){a=i.path[i.path.headId];return this.formatPixelValue(a.y)}if("connectorEndX"===e){var o=i.path[i.path.tailId];return this.formatPixelValue(o.x)}if("connectorEndY"===e){o=i.path[i.path.tailId];return this.formatPixelValue(o.y)}}else{var s=t.getBounds(n);if("selectionPositionX"===e)return this.formatPixelValue(s.x);if("selectionPositionY"===e)return this.formatPixelValue(s.y);if("selectionWidth"===e)return this.formatPixelValue(s.width);if("selectionHeight"===e)return this.formatPixelValue(s.height)}},e.prototype.getApplyData=function(e,t){return Object(i.a)({})},e.prototype.formatPixelValue=function(e){return Math.round(e)+"px"},e}())}}]);